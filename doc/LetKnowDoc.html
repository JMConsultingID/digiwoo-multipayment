
<!DOCTYPE html>
<html lang="en">
<head>
    <title>LetKnowPay Documentation</title>

    <!-- Meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    
    <link href="https://pay.letknow.com/images/LetKnowPay/favicon.ico" rel="icon" type="image/x-icon">

    <link href='https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>
    <!-- FontAwesome JS -->
    <script defer src="https://use.fontawesome.com/releases/v5.8.2/js/all.js" integrity="sha384-DJ25uNYET2XCl5ZF++U8eNxPWqcKohUUBUpKGlNLMchM7q4Wjg2CUpjHLaL8yYPH" crossorigin="anonymous"></script>
    <!-- Global CSS -->
    <link rel="stylesheet" href="https://pay.letknow.com/assets/templates/old/api_docs/assets/plugins/bootstrap/css/bootstrap.min.css">
    <!-- Plugins CSS -->
    <link rel="stylesheet" href="https://pay.letknow.com/assets/templates/old/api_docs/assets/plugins/prism/prism.css">
    <link rel="stylesheet" href="https://pay.letknow.com/assets/templates/old/plugins/highlight/highlight.pack.js">

    <!-- Theme CSS -->
    <link id="theme-style" rel="stylesheet" href="https://pay.letknow.com/assets/templates/old/api_docs/assets/css/styles.css?v=1">
</head>

<span v-cloak id="paths">
    <input type="hidden" name="_token" value="RFgegcW6n4xnczzdJW9VssPCvOHRWmkWEhS7bWoC">
    <input name="tk" type="hidden" value="RFgegcW6n4xnczzdJW9VssPCvOHRWmkWEhS7bWoC">
    <input name="sitePath" type="hidden" value="https://pay.letknow.com">
</span>

<body class="body-blue">
<div class="page-wrapper">
    <header id="header" class="header">
        <div class="container">
            <div class="branding">
                <h1 class="logo">
                    <a href="#">
                        <span aria-hidden="true" class="icon_documents_alt icon"></span>
                        <span class="text-highlight">LetKnowPay</span>

                    </a>
                </h1>
            </div>

            <ol class="breadcrumb">
                <li class="breadcrumb-item"><a href="#">API Documentation v2.3</a></li>
            </ol>
        </div>
    </header>

    <div class="doc-wrapper">
        <div class="container">
            <div class="doc-body row">
                <div class="doc-sidebar col-md-3 col-12 order-0 d-none d-md-flex">
                    <div id="doc-nav" class="doc-nav">

                        <nav id="doc-menu" class="nav doc-menu flex-column sticky">
                            <a class="nav-link scrollto" href="#introduction-section">Introduction</a>
                            <a class="nav-link scrollto" href="#authentication-section">Authentication</a>
                            <nav class="doc-sub-menu nav flex-column">
                                <a class="nav-link scrollto" href="#hmac">HMAC</a>
                                <a class="nav-link scrollto" href="#examples">Auth examples</a>
                                <a class="nav-link scrollto" href="#headers">Headers</a>
                            </nav>

                            
                            <a class="nav-link scrollto" href="#apicalls-crypto-section">Crypto to Crypto API calls</a>
                            <nav class="doc-sub-menu nav flex-column">
                                <a class="nav-link scrollto" href="#getcryptodepositaddress">Get Crypto deposit address</a>
                                <a class="nav-link scrollto" href="#crypto-withdraw">Crypto Withdraw</a>
                                <a class="nav-link scrollto" href="#deposit-webhooks-section-crypto">Deposit IPN (Webhooks)</a>
                                <a class="nav-link scrollto" href="#withdrawal-webhooks-section-crypto">Withdrawal IPN (Webhooks)</a>
                            </nav>

                            
                            
                            <a class="nav-link scrollto" href="#apicalls-fiat-section">Crypto to Fiat API calls</a>
                            <nav class="doc-sub-menu nav flex-column">
                                <a class="nav-link scrollto" href="#getfiatdepositaddress">Get Fiat deposit address</a>
                                                                    <a class="nav-link scrollto" href="#fiat-to-crypto-withdraw">Fiat to Crypto Withdraw</a>
                                                                <a class="nav-link scrollto" href="#deposit-webhooks-section-fiat">Crypto-To-Fiat
                                    Deposit IPN (Webhooks)</a>
                                                                    <a class="nav-link scrollto" href="#withdrawal-webhooks-section-fiat">Fiat-To-Crypto
                                        Withdrawal IPN (Webhooks)</a>
                                                            </nav>

                            
                            <a class="nav-link scrollto" href="#api-v3-calls-section">API V3 Gateway API Calls</a>
                            <nav class="doc-sub-menu nav flex-column">
                                <a class="nav-link scrollto" href="#api-v3-register">Register</a>
                                <a class="nav-link scrollto" href="#api-v3-get-balances">Get Balances</a>
                                <a class="nav-link scrollto" href="#api-v3-get-deposit-address">Get Crypto deposit address</a>
                                <a class="nav-link scrollto" href="#api-v3-withdraw">Crypto Withdraw</a>

                                
                                                                    <a class="nav-link scrollto" href="#api-v3-rate">Conversion rate</a>
                                    <a class="nav-link scrollto" href="#api-v3-buy">Buy crypto</a>
                                    <a class="nav-link scrollto" href="#api-v3-sell">Sell crypto</a>
                                


                            </nav>

                            
                                                            <a class="nav-link scrollto" href="#api-pos-calls-section">API POS calls</a>
                                <nav class="doc-sub-menu nav flex-column">
                                    <a class="nav-link scrollto" href="#api-pos-get-deposit-address">Get Crypto deposit address</a>
                                    <a class="nav-link scrollto" href="#api-pos-deposit-webhooks-section-crypto">Deposit IPN (Webhooks)</a>
                                </nav>
                            
                            <a class="nav-link scrollto" href="#errortable-section">Error Table</a>
                            <a class="nav-link scrollto" href="#examples-section">Example Code Snippets</a>
                            <!--<a class="nav-link scrollto" href="#ipn-cheatsheet">IPN (Webhooks) cheatsheet</a>-->
                            <a class="nav-link scrollto" href="#contact-support">Contact Support</a>
                            <!--   <a class="nav-link scrollto" href="#testnet-section">How to get testnet Bitcoins</a>
                               <a class="nav-link scrollto" href="#faq-section">FAQ</a>
                               <a class="nav-link scrollto" href="#screenshots-section">Screenshots</a> -->
                        </nav><!--//menu-->
                    </div>
                </div><!--//sidebar-->

                <div class="doc-content col-md-9 col-12 order-1">
                    <div class="content-inner">
                        <section id="introduction-section" class="doc-section">
                            <h2 class="section-title">Introduction</h2>
                            <div class="section-block">
                                <p>
                                    The LetKnowPay API is a server-to-server integration, there is no redirect to a payment
                                    page or imbedded widget. The deposit and withdrawal page are customized by your team using
                                    the API data we send on your requests. API calls are implemented as standard HTTP POST
                                    (application/json) calls to <strong>https://pay.letknow.com/api/2</strong> in production mode.
                                </p>
                                <h3 class="block-title">Supported currencies</h3>
                                <p>The following is a list of currencies our <strong>Cryptocurrency</strong> Gateway
                                    currently support: <br/><strong>BTC, ETH, XRP, USDT (erc20), BCH, LTC, DASH, ZCASH, TUSD, USDC, PAX, USDT TRC20, TRX, BINANCEPAY</strong></p>
                                <p>The following is a list of currencies our <strong>Fiat-To-Crypto</strong> Gateway
                                    currently support: <br/><strong> BTC, ETH, XRP, USDT (erc20), BCH, LTC, DASH, EUR, USD, USDT TRC20, ADA, ZEC</strong></p>

                                <h3 class="block-title">Currency code</h3>
                                <p>When sending currency receive please use the following code for the following currencies: <br/>
                                    <strong> BTC, ETH, XRP, USDT, BCH, LTC, DASH, ZEC, TUSD, USDC, PAX, USDTTRC20, TRX, BINANCEPAY</strong></p>

                                <div class="callout-block callout-info">
                                    <div class="icon-holder">
                                        <i class="fas fa-info"></i>
                                    </div><!--//icon-holder-->
                                    <div class="content">
                                        <h4 class="callout-title">Note:</h4>
                                        <p>Please ask our managers for credentials to access our Gateway's API</p>
                                    </div><!--//content-->
                                </div>
                                <h3 class="block-title">API Setup</h3>
                                <p>The only setup needed is to go to the <a
                                        href="https://pay.letknow.com/en/merchant/shops"
                                        target="_blank">Shops</a> page and generate an API key. You will be given a
                                    private and public key used to authenticate your API calls. Make sure you don't
                                    share your private key with any 3rd parties!</p>
                                <p>Also, through the Shops page you may whitelist your needed IP address.</p>
                            </div>
                        </section><!--//section-->

                        <section id="authentication-section" class="doc-section">
                            <h2 class="section-title">Authentication</h2>

                            <div id="hmac" class="section-block">
                                <h3 class="block-title">HMAC</h3>
                                <p>
                                    Every API call has a SHA-256 HMAC signature generated with your private key. Our
                                    server generates it's own HMAC signature and compares it with the API caller's. If
                                    they don't match the API call is discarded. The HMAC signature is sent as a HTTP
                                    header called 'C-Request-Signature'.
                                </p>
                                <p>
                                    The HMAC signature is created from the POST data of "nonce" "shopId" and "shopKey"
                                    parameters in your request. For example if your API secret key (shopKey) was
                                    "shop_key_1" and API public key (shopId) was "public_key_1" (both without quotes)
                                    and you were using the "order" function the raw request might look like:
                                </p>
                                <div class="code-block">
                                    <p><code>1234567890|public_key_1|shop_key_1</code></p>
                                </div><!--//code-block-->
                                <p>And the HMAC would be:
                                    5dbe4862c4f7d8d071415cd465973ad61922bb592990e0647edf7ff20c99a322</p>
                            </div><!--//section-block-->

                            <div id="examples" class="section-block">
                                <h3 class="block-title">HMAC PHP Example</h3>
                                <pre><code class="language-php">&#x3C;?php
$nonce = str_replace(&#x27;.&#x27;, &#x27;&#x27;, microtime(true));
$shopId = &#x27;public_key_1&#x27;;
$shopKey = &#x27;shop_key_1&#x27;;
$signature = hash_hmac(&#x27;sha256&#x27;, &#x22;{$nonce}|{$shopId}|{$shopKey}&#x22;, $shopKey);
?&#x3E;</code></pre>
                            </div><!--//section-block-->

                            <div id="headers" class="section-block">
                                <h3 class="block-title">Headers</h3>
                                <pre><code class="language-html">Host: pay.letknow.com
Accept: */*
C-Request-Nonce: nonce
C-Shop-Id: shopId
C-Request-Signature: signature
Content-Type: application/json</code></pre>
                            </div><!--//section-block-->
                            <div id="hmac" class="section-block">
                                <h3 class="block-title">Nonce</h3>
                                <p>
                                    Mandatory nonce (an integer that is always higher than in your previous API call) to
                                    prevent replay attacks.
                                    Note: API nonce processing is non-atomic so you always want to wait for an API call
                                    to return before making another.
                                    You can use, for example, php microtime function for nonce e.g. str_replace('.', '',
                                    microtime(true));).
                                    The nonce is sent as a HTTP header called 'C-Request-Nonce'.
                                </p>
                            </div><!--//section-block-->

                            <div id="hmac" class="section-block">
                                <h3 class="block-title">Shop Pubkey (Your Shop ID)</h3>
                                <p>
                                    The Shop Public key is sent as a HTTP header called 'C-Shop-Id'.
                                </p>
                            </div><!--//section-block-->


                        </section><!--//section-->

                        <section id="apicalls-crypto-section" class="doc-section">
                            <h2 class="section-title">Crypto to crypto API calls</h2>

                            <div id="getcryptodepositaddress" class="section-block">
                                <h3 class="block-title">Get Crypto deposit address</h3>
                                <p>
                                    This request generates a new Crypto deposit address (BTC in example below).
                                </p>
                                <p>Please refer to the <a href="#deposit-webhooks-section-crypto">IPN (Webhooks)</a>
                                    section to discover on how to process the deposits and withdrawals to/from generated
                                    addresses.</p>

                                <div class="code-block">
                                    <h4>POST URL:</h4>
                                    <p><code>https://pay.letknow.com/api/2/get_deposit_address</code></p>
                                </div>
                                <h3 class="block-title">Headers</h3>
                                <pre><code class="language-html">Host: pay.letknow.com
Accept: */*
C-Request-Nonce: nonce
C-Shop-Id: shopId
C-Request-Signature: signature
Content-Type: application/json</code></pre>
                                <div class="code-block">
                                    <h4>JSON Request:</h4>
                                    <pre><code class="language-php">{
    "currency":"BTC",
    "currency_receive":"BTC",
    "reference_id": "refid_0001",
	"client": {
		"id": "client_123456",
		"first_name": "Phil",
        "last_name": "MacNeely",
        "email": "hmacneely5@stumbleupon.com",
        "address": "276 Homewood Crossing",
    },
}</code></pre>
                                </div>
                                <div class="code-block">
                                    <h4>BINANCEPAY JSON Request:</h4>
                                    <pre><code class="language-php">{
    "currency":"BINANCEPAY",
    "currency_receive":"BINANCEPAY",
    "receive_amount":"40.99", // Mandatory only for BINANCEPAY
    "reference_id": "refid_0001",
	"client": {
		"id": "client_123456",
		"first_name": "Phil",
        "last_name": "MacNeely",
        "email": "hmacneely5@stumbleupon.com",
        "address": "276 Homewood Crossing",
    },
}</code></pre>
                                </div>

                                <div class="code-block">
                                    <h4>Successful Response:</h4>
                                    <p>
                                        The API will synchronously return an array with field 'result' success or
                                        failed.
                                        If the 'result' field value is 'success' (case-sensitive) the API call was
                                        processed, otherwise it will contain an error message.
                                    </p>
                                    <pre><code class="language-php">{
    "result":"success",
    "currency":"BTC",
    "currency_receive":"BTC",
    "address":"3LHeYhVufqfF4VSbyBf9DXVChBGDFV42Ka",
    "account_id":"BTCBXUQOSLAEH58YVSSUJU8T8D5BWY",
    "crypto_destination_tag":"12345678", // Mandatory to receive deposits in XRP, EOS, XLM, XMR
	"reference_id": "refid_0001",
	"client": {
		"id": "client_123456",
    },
    "qr_code":"iVBORw0KGgoAAAANSxxxxxxxxxxxxxx",
    "timestamp":1234567890
}
</code></pre>
                                </div>

                                <div class="code-block">
                                    <h4>BINANCEPAY Successful Response:</h4>
                                    <pre><code class="language-php">{
    "result":"success",
    "currency":"BINANCEPAY",
    "currency_receive":"BINANCEPAY",
    "address":"BINANCEPAY",
    "account_id":"BINANCEPAYQFVH0ADL2SYS0LGSNCQK",
	"reference_id": "refid_0001",
	"client": {
		"id": "client_123456",
    },
    "qr_code":"iVBORw0KGgoAAAANSxxxxxxxxxxxxxx",
    "universal_url":"https://app.binance.com/payment/secpay?linkToken=4daxxxxxxxx",
    "timestamp":1234567890
}
</code></pre>
                                </div>

                                <div class="code-block">
                                    <h4>Error:</h4>
                                    <pre><code class="language-php">{
    "result":"failed",
    "error_code": "200",
    "error_message": "Validation error",
    "errors": {
        "currency_receive": [
            "The selected currency is invalid."
        ]
    }
    "timestamp": "1234567890",
}</code></pre>
                                </div>

                                <div class="callout-block callout-danger">
                                    <div class="icon-holder">
                                        <i class="fas fa-danger"></i>
                                    </div><!--//icon-holder-->
                                    <div class="content">
                                        <h4 class="callout-title">Important!!!</h4>
                                        <p>The user must always generate a get deposit address request.
                                            However, it is possible that the user will send a multiple transaction to
                                            the same address without generating a get deposit address request.
                                            LetKnowPay will still send you the IPN response with the new
                                            LetKnowPay ID, Blockchain Transaction ID and the same client ID,
                                            however, the Reference ID will be used from the previous get deposit
                                            address request. Therefore, its important that you map incoming
                                            transactions from LetKnowPay using the Client ID and the LetKnowPay ID.
                                            And if you get an IPN with the same reference ID but with the
                                            new LetKnowPay ID you must record a new transaction using the new
                                            LetKnowPay ID. Reference ID is for your own accounting purposes,
                                            and reference ID is not mandatory.</p>
                                        <p>Because one Client ID equals one address, you must make sure that
                                            you generate a get deposit request for a Client ID not the Reference
                                            ID.
                                        </p>
                                    </div>
                                </div>

                                <div class="section-block">
                                    <h4>Request fields</h4>
                                    <div class="table-responsive">
                                        <table class="table table-bordered table-striped">
                                            <tbody>
                                            <tr>
                                                <td><strong>Parameter</strong></td>
                                                <td width="1px"><strong>Required?</strong></td>
                                                <td><strong>Description</strong></td>
                                                <td width="90px"><strong>Length</strong></td>
                                                <td><strong>Example</strong></td>
                                            </tr>
                                            <tr>
                                                <td>currency</td>
                                                <td><span class="label label-success">YES</span></td>
                                                <td>Currency of address to generate</td>
                                                <td></td>
                                                <td>BTC</td>
                                            </tr>
                                            <tr>
                                                <td>currency_receive</td>
                                                <td><span class="label label-success">YES</span></td>
                                                <td>Currency of address to generate (mandatory field, receive
                                                    Cryotocurrency should be the similar to the currency field)
                                                </td>
                                                <td></td>
                                                <td>BTC</td>
                                            </tr>
                                            <tr>
                                                <td>receive_amount</td>
                                                <td><span class="label label-success">Partial</span></td>
                                                <td>Partially mandatory for BINANCEPAY
                                                </td>
                                                <td></td>
                                                <td>40.99</td>
                                            </tr>
                                            <tr>
                                                <td>reference_id</td>
                                                <td><span class="label label-success">no</span></td>
                                                <td>Your reference id for accounting purposes</td>
                                                <td>unique</td>
                                                <td>refid_0001</td>
                                            </tr>
                                            <tr>
                                                <td>client.id</td>
                                                <td><span class="label label-warning">YES</span></td>
                                                <td>Client's ID in your shop, unique for each shop_id.</td>
                                                <td>unique</td>
                                                <td>client1</td>
                                            </tr>
                                            <tr>
                                                <td>client.first_name</td>
                                                <td><span class="label label-warning">YES</span></td>
                                                <td>Client's First Name in your Shop</td>
                                                <td></td>
                                                <td>John</td>
                                            </tr>
                                            <tr>
                                                <td>client.last_name</td>
                                                <td><span class="label label-warning">YES</span></td>
                                                <td>Client's Last Name in your Shop</td>
                                                <td></td>
                                                <td>Doe</td>
                                            </tr>
                                            <tr>
                                                <td>client.email</td>
                                                <td><span class="label label-warning">YES</span></td>
                                                <td>Client's E-mail in your Shop</td>
                                                <td></td>
                                                <td>john@doe.com</td>
                                            </tr>
                                            <tr>
                                                <td>client.address</td>
                                                <td><span class="label label-success">no</span></td>
                                                <td>Client's postal address in your Shop</td>
                                                <td>Maximum <strong>255</strong> chars</td>
                                                <td>276 Homewood Crossing, Las Vegas, Nevada, US</td>
                                            </tr>

                                            </tbody>
                                        </table>
                                    </div><!--//table-responsive-->
                                </div><!--//section-block-->


                                <div class="section-block">
                                    <h4>Response Fields</h4>
                                    <div class="table-responsive">
                                        <table class="table table-bordered table-striped">
                                            <tbody>
                                            <tr>
                                                <td><strong>Parameter</strong></td>
                                                <td><strong>Description</strong></td>
                                            </tr>
                                            <tr>
                                                <td>result</td>
                                                <td><strong class="label label-success">success</strong> or <strong
                                                        class="label label-danger">failed</strong></td>
                                            </tr>
                                            <tr>
                                                <td>error_code</td>
                                                <td>Parameter "1" is no errors</td>
                                            </tr>
                                            <tr>
                                                <td>error_message</td>
                                                <td>Error message (in case of result "failed")</td>
                                            </tr>
                                            <tr>
                                                <td>errors</td>
                                                <td>Validation errors(in case of result "failed")</td>
                                            </tr>
                                            <tr>
                                                <td>currency</td>
                                                <td>Deposit address Cryptocurrency</td>
                                            </tr>
                                            <tr>
                                                <td>currency_receive</td>
                                                <td>Deposit address Cryptocurrency</td>
                                            </tr>
                                            <tr>
                                                <td>crypto_destination_tag</td>
                                                <td>Tag that should be provided for deposits in XRP, EOS, XLM, XMR.</td>
                                            </tr>
                                            <tr>
                                                <td>address</td>
                                                <td>Generated Deposit Address</td>
                                            </tr>
                                            <tr>
                                                <td>account_id</td>
                                                <td>Client's Account ID in LetKnowPay</td>
                                            </tr>
                                            <tr>
                                                <td>reference_id</td>
                                                <td>Your reference ID</td>
                                            </tr>
                                            <tr>
                                                <td>client.id</td>
                                                <td>Client's ID in your Shop</td>
                                            </tr>
                                            <tr>
                                                <td>qr_code</td>
                                                <td>Base64 encoded QR code with address and amount data (Example of use:
                                                    img
                                                    src="data:image/png;base64,iVBORw0KGgoAAAANSxxxxxxxxxxxxxx")
                                                </td>
                                            </tr>
                                            <tr>
                                                <td>timestamp</td>
                                                <td>Response timestamp</td>
                                            </tr>
                                            </tbody>
                                        </table>
                                    </div><!--//table-responsive-->

                                    <p>Extra response fields only for BINANCEPAY</p>
                                    <div class="table-responsive">
                                        <table class="table table-bordered table-striped">
                                            <tbody>
                                            <tr>
                                                <td><strong>Parameter</strong></td>
                                                <td><strong>Description</strong></td>
                                            </tr>








                                            <tr>
                                                <td>universal_url</td>
                                                <td>Universal url to finish the payment. string(512)</td>
                                            </tr>
                                            </tbody>
                                        </table>
                                    </div><!--//table-responsive-->
                                </div><!--//section-block-->
                            </div><!--//section-block-->


                            <div id="crypto-withdraw" class="section-block">
                                <h3 class="block-title">Crypto Withdraw (To external Crypto address)</h3>
                                <p>
                                    This request creates a new transaction in selected Blockchain. Withdraws funds from
                                    your Account to the provided Crypto address. Be careful with addresses, this is the
                                    irreversible action.
                                </p>
                                <p>Please refer to the <a href="#withdrawal-webhooks-section-crypto">IPN (Webhooks)</a>
                                    section to discover on how to process the deposits and withdrawals to/from generated
                                    addresses.</p>

                                <div class="code-block">
                                    <h4>POST URL:</h4>
                                    <p><code>https://pay.letknow.com/api/2/withdraw</code></p>
                                </div>
                                <h3 class="block-title">Headers</h3>
                                <pre><code class="language-html">Host: pay.letknow.com
Accept: */*
C-Request-Nonce: nonce
C-Shop-Id: shopId
C-Request-Signature: signature
Content-Type: application/json</code></pre>

                                <div class="code-block">
                                    <h4>JSON Request:</h4>
                                    <pre><code class="language-php">{
    "withdrawal_currency":"BTC",
    "withdrawal_address":"3LHeYhVufqfF4VSbyBf9DXVChBGDFV42Ka",
    "withdrawal_destination_tag":"1234567", // For XRP, XLM, EOS
    "withdrawal_amount":"0.00000008",
    "subtract_fee_from_amount":true,
    "reference_id": "refid_0001",
    "client": {
        "id": "client_123456",
    },
}</code></pre>
                                </div>

                                <div class="code-block">
                                    <h4>Successful Response:</h4>
                                    <p>
                                        The API will synchronously return an array with field 'result' success or
                                        failed.
                                        If the 'result' field value is 'success' (case-sensitive) the API call was
                                        processed, otherwise it will contain an error message.
                                    </p>
                                    <pre><code class="language-php">{
    "result":"success",
	"withdrawal_id":"W1234567890",
    "withdrawal_currency":"BTC",
    "withdrawal_address":"3LHeYhVufqfF4VSbyBf9DXVChBGDFV42Ka",
    "withdrawal_destination_tag":"1234567", // For XRP, XLM, EOS
    "withdrawal_amount":"0.00000008",
	"withdrawal_fee":"0.03500000", // Deducted from Merchant account if "subtract_fee_from_amount":true
    "transaction_id":"blockchain_txid",
    "reference_id": "refid_0001",
    "client": {
        "id": "client_123456",
    },
    "timestamp":1234567890,
}
</code></pre>
                                </div>
                                <div class="code-block">
                                    <h4>Error:</h4>
                                    <pre><code class="language-php">{
    "result":"failed",
    "error_code": "200",
    "error_message": "Validation error",
    "validation": {
        "order_id": [
            "Client ID is Required field"
        ]
    }
    "timestamp": "1234567890",
}</code></pre>
                                </div>

                                <div class="callout-block callout-danger">
                                    <div class="icon-holder">
                                        <i class="fas fa-danger"></i>
                                    </div><!--//icon-holder-->
                                    <div class="content">
                                        <h4 class="callout-title">Important!!!</h4>
                                        <p>The user must have a profile with the LetKnowPay before
                                            making a withdrawal request. If such user does not exist you
                                            will get an error code: 8000
                                            To create a user profile you must first generate a get deposit
                                            request. Once get deposit request is initiated the user may
                                            withdraw from the LetKnowPay.</p>
                                        <p>If you are switching the gateway and you already have
                                            existing user, please run a command get deposit address for
                                            all your existing users, so they can proceed with the
                                            withdrawal without initiating a deposit request.</p>
                                    </div>
                                </div>

                                <div class="section-block">
                                    <h4>Request fields</h4>
                                    <div class="table-responsive">
                                        <table class="table table-bordered table-striped">
                                            <tbody>
                                            <tr>
                                                <td><strong>Parameter</strong></td>
                                                <td width="1px"><strong>Required</strong></td>
                                                <td><strong>Description</strong></td>
                                                <td width="90px"><strong>Length</strong></td>
                                                <td><strong>Example</strong></td>
                                            </tr>
                                            <tr>
                                                <td>withdrawal_currency</td>
                                                <td><span class="label label-success">YES</span></td>
                                                <td>Curency to withdraw</td>
                                                <td></td>
                                                <td>1.00</td>
                                            </tr>
                                            <tr>
                                                <td>withdrawal_address</td>
                                                <td><span class="label label-success">YES</span></td>
                                                <td>Crypto address to withdraw funds to</td>
                                                <td></td>
                                                <td>3LHeYhVufqfF4VSbyBf9DXVChBGDFV42Ka</td>
                                            </tr>
                                            <tr>
                                                <td>withdrawal_amount</td>
                                                <td><span class="label label-warning">YES</span></td>
                                                <td>Amount to withdraw</td>
                                                <td></td>
                                                <td>0.00000008</td>
                                            </tr>
                                            <tr>
                                                <td>subtract_fee_from_amount</td>
                                                <td><span class="label label-warning">YES</span></td>
                                                <td>If set true, all fees will be automatically deducted from Merchant's
                                                    account and client will get exact amount from "withdrawal_amount"
                                                    field on their Crypto address.
                                                    Otherwise, amount will be deducted from provided
                                                    "withdrawal_amount".
                                                </td>
                                                <td></td>
                                                <td>true OR false</td>
                                            </tr>
                                            <tr>
                                                <td>withdrawal_destination_tag</td>
                                                <td><span class="label label-warning">Partial</span></td>
                                                <td>Partially mandatory for XRP, EOS, XLM, XMR currency.</td>
                                                <td>8 decimals</td>
                                                <td>12345678</td>
                                            </tr>
                                            <tr>
                                                <td>reference_id</td>
                                                <td><span class="label label-warning">no</span></td>
                                                <td>Your reference ID</td>
                                                <td></td>
                                                <td>refid_0001</td>
                                            </tr>
                                            <tr>
                                                <td>client.id</td>
                                                <td><span class="label label-success">YES</span></td>
                                                <td>Client's ID in your Shop</td>
                                                <td></td>
                                                <td>client_123456</td>
                                            </tr>
                                            </tbody>
                                        </table>
                                    </div><!--//table-responsive-->
                                </div><!--//section-block-->


                                <div class="section-block">
                                    <h4>Response Fields</h4>
                                    <div class="table-responsive">
                                        <table class="table table-bordered table-striped">
                                            <tbody>
                                            <tr>
                                                <td><strong>Parameter</strong></td>
                                                <td><strong>Description</strong></td>
                                            </tr>
                                            <tr>
                                                <td>result</td>
                                                <td><strong class="label label-success">success</strong> or <strong
                                                        class="label label-danger">failed</strong></td>
                                            </tr>
                                            <tr>
                                                <td>error_code</td>
                                                <td>Parameter "1" is no errors</td>
                                            </tr>
                                            <tr>
                                                <td>error_message</td>
                                                <td>Error message (in case of result "failed")</td>
                                            </tr>
                                            <tr>
                                                <td>validation</td>
                                                <td>Validation errors (in case of result "failed")</td>
                                            </tr>
                                            <tr>
                                                <td>withdrawal_id</td>
                                                <td>Withdrawal ID in LetKnowPay</td>
                                            </tr>
                                            <tr>
                                                <td>withdrawal_currency</td>
                                                <td>Withdrawal currency</td>
                                            </tr>
                                            <tr>
                                                <td>withdrawal_address</td>
                                                <td>Crypto Address of withdrawal</td>
                                            </tr>
                                            <tr>
                                                <td>withdrawal_destination_tag</td>
                                                <td>XRP destination_tag of withdrawal address</td>
                                            </tr>
                                            <tr>
                                                <td>withdrawal_amount</td>
                                                <td>Withdrawal amount</td>
                                            </tr>
                                            <tr>
                                                <td>transaction_id</td>
                                                <td>Blockchain transaction hash</td>
                                            </tr>
                                            <tr>
                                                <td>shop_id</td>
                                                <td>Your shop ID in LetKnowPay</td>
                                            </tr>
                                            <tr>
                                                <td>reference_id</td>
                                                <td>Your reference ID</td>
                                            </tr>
                                            <tr>
                                                <td>client.id</td>
                                                <td>Your client ID</td>
                                            </tr>
                                            <tr>
                                                <td>timestamp</td>
                                                <td>Withdrawal timestamp</td>
                                            </tr>
                                            </tbody>
                                        </table>
                                    </div><!--//table-responsive-->
                                </div><!--//section-block-->
                            </div><!--//section-block-->


                            <div id="deposit-webhooks-section-crypto" class="section-block">
                                <h3 class="block-title">Crypto Gateway IPN service (Webhooks)</h3>

                                <p>
                                    Instant Payment Notification will be sent to Shop's Callback URL when Transaction
                                    arrives in the blockchain and when Transaction status is changed to "pending" or
                                    "success". Status will be changed to "success" after 5-10 confirmations depending on
                                    Cryptocurrency.
                                </p>
                                <p><a href="https://pay.letknow.com/en/merchant/shops">Setup Callback URL</a></p>

                                <div class="code-block">
                                    <h4>Deposit IPN examples:</h4>
                                    <pre><code class="language-php">Pending deposit transaction (Unconfirmed in Blockchain):
{
    "letknowpay_id": "TRX1234455677889",
    "nonce": "15880073107779",
    "signature": "d9d2c15e62aa988b2d1355a07b236a046d270e462db33615f127b0bf7c67cd97",
    "type": "receive",
    "account_id": "BTCR6KFFE7BWLWTP4RUWLV8DG1NJZQ",
    "address": "3GTMbi5iQH5nArvuEGsk6Vco9AmbmpwgkS",
    "crypto_destination_tag": "12345678", // For XRP, XLM, EOS, XMR
    "txid": "e71415cd465973ad61922bb592990e0647edf7ff20c",
    "amount": "0.00050000",
    "currency": "BTC",
    "currency_receive": "BTC",
    "status": "pending",
    "shop_id": "EjofvReMREJ4aGfYaIGuEDw5GDl8Dd",
    "reference_id": "btc-1",
    "client": {
        "id": "your_client_id"
    },
    "created": "0000-00-00 00:00:00",
    "updated": "0000-00-00 00:00:00",
    "timestamp": 1588007313
}

Successful deposit transaction (Confirmed in Blockchain):
{
    "letknowpay_id": "TRX1234455677889",
    "nonce": "15880073107779",
    "signature": "d9d2c15e62aa988b2d1355a07b236a046d270e462db33615f127b0bf7c67cd97",
    "type": "receive",
    "account_id": "BTCR6KFFE7BWLWTP4RUWLV8DG1NJZQ",
    "address": "3GTMbi5iQH5nArvuEGsk6Vco9AmbmpwgkS",
    "crypto_destination_tag": "12345678", // For XRP, XLM, EOS, XMR
    "txid": "e71415cd465973ad61922bb592990e0647edf7ff20c",
    "amount": "0.00050000",
    "currency": "BTC",
    "currency_receive": "BTC",
    "status": "success",
    "shop_id": "EjofvReMREJ4aGfYaIGuEDw5GDl8Dd",
    "reference_id": "btc-1",
    "client": {
        "id": "your_client_id"
    },
    "created": "0000-00-00 00:00:00",
    "updated": "0000-00-00 00:00:00",
    "timestamp": 1588007313
}

Note:
signature = SHA-256 from nonce|shop_id|shop_key
e.g HMAC from string 1234567890|public_key_1|shop_key_1 would be:
5dbe4862c4f7d8d071415cd465973ad61922bb592990e0647edf7ff20c99a322
</code></pre>
                                </div>

                                <div class="section-block">
                                    <h4>Response Fields</h4>
                                    <div class="table-responsive">
                                        <table class="table table-bordered table-striped">
                                            <tbody>
                                            <tr>
                                                <td><strong>Parameter</strong></td>
                                                <td><strong>Description</strong></td>
                                            </tr>
                                            <tr>
                                                <td>letknowpay_id</td>
                                                <td>LetKnowPay transaction ID</td>
                                            </tr>
                                            <tr>
                                                <td>nonce</td>
                                                <td>Unique identificator for signature</td>
                                            </tr>

                                            <tr>
                                                <td>signature</td>
                                                <td>SHA-256 from nonce|shop_id|shop_key</td>
                                            </tr>
                                            <tr>
                                                <td>type</td>
                                                <td>Transaction type (receive or withdraw)</td>
                                            </tr>
                                            <tr>
                                                <td>account_id</td>
                                                <td>Address owner account ID in LetKnowPay</td>
                                            </tr>
                                            <tr>
                                                <td>txid</td>
                                                <td>Blockchain transaction ID</td>
                                            </tr>
                                            <tr>
                                                <td>status</td>
                                                <td>
                                                    <div><span class="label label-default">pending</span></div>
                                                    <div><span class="label label-success">success</span></div>
                                                    <div><span class="label label-default">failed</span></div>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td>amount</td>
                                                <td>Transaction amount</td>
                                            </tr>
                                            <tr>
                                                <td>currency</td>
                                                <td>Transaction currency</td>
                                            </tr>
                                            <tr>
                                                <td>address</td>
                                                <td>Crypto Address</td>
                                            </tr>

                                            <tr>
                                                <td>created</td>
                                                <td>Date created</td>
                                            </tr>

                                            <tr>
                                                <td>updated</td>
                                                <td>Date updated</td>
                                            </tr>

                                            <tr>
                                                <td>shop_id</td>
                                                <td>LetKnowPay shop ID</td>
                                            </tr>

                                            <tr>
                                                <td>client.id</td>
                                                <td>Your's client ID</td>
                                            </tr>
                                            <tr>
                                                <td>timestamp</td>
                                                <td>Callback timestamp</td>
                                            </tr>


                                            </tbody>
                                        </table>
                                    </div><!--//table-responsive-->
                                </div><!--//section-block-->
                                <div class="code-block">
                                    <h4>POST URL:</h4>
                                    <p><code>Your shop CallBack URL, provided in Shop settings e.g.
                                            https://yourshop.com/ORDERID12345/IPN</code></p>
                                    <p><a href="https://pay.letknow.com/en/merchant/shops">Your Shop settings</a></p>
                                </div>

                                <div class="section-block">
                                    <h4>Retries</h4>
                                    <p>1 retry if CallBack URL status is equal 200</p>
                                    <p>3 synchronous retries if CallBack URL status is not equal 200</p>
                                    <p>1 asynchronous retry once in 10,30,60,120 minutes if CallBack URL status is not
                                        equal 200</p>
                                    <p>IPN will wait for Callback URL response for 20 seconds each retry</p>
                                </div><!--//section-block-->
                            </div><!--//section-block-->


                            <div id="withdrawal-webhooks-section-crypto" class="code-block">
                                <h4>Withdrawal IPN examples:</h4>
                                <pre><code class="language-php">Pending Withdrawal transaction (Unconfirmed in Blockchain):
{
    "nonce":"16037142613288",
    "signature":"b4754a261e7269a5c9a3caa345347tee5aa35766d85c530af",
    "shop_id":"EjofvReMREJ4aGfYaIGuEDw5GDl8Dd",
    "withdrawal_id":"WHDDBEMEAAENSLERVXP",
    "withdrawal_currency":"BTC",
    "withdrawal_address":"3GTMbi5iQH5nArvuEGsk6Vco9AmbmpwgkS",
    "crypto_destination_tag":"12345678", // XRP
    "withdrawal_amount":"1.03000000",
    "withdrawal_fee":"0.03500000",
    "transaction_id":"",
    "reference_id":"136612",
    "client":{
        "id":"client_1"
    },
    "type":"withdraw",
    "letknowpay_id":"WHT7JBEMEAAENSLN9NXP",
    "txid":"",
    "status":"pending",
    "created":"2020-10-26 14:01:59",
    "updated":"0000-00-00 00:00:00",
    "timestamp":1603714261
}

Successful Withdrawal transaction (Confirmed in Blockchain):
{
    "nonce":"16037142613288",
    "signature":"b4754a261e7269a5c9a3caa345347tee5aa35766d85c530af",
    "shop_id":"EjofvReMREJ4aGfYaIGuEDw5GDl8Dd",
    "withdrawal_id":"WHDDBEMEAAENSLERVXP",
    "withdrawal_currency":"BTC",
    "withdrawal_address":"3GTMbi5iQH5nArvuEGsk6Vco9AmbmpwgkS",
    "crypto_destination_tag":"12345678", // XRP
    "withdrawal_amount":"1.03000000",
    "withdrawal_fee":"0.03500000",
    "transaction_id":"e71415cd465973ad61922bb592990e0647edf7ff20c",
    "reference_id":"136612",
    "client":{
        "id":"client_1"
    },
    "type":"withdraw",
    "letknowpay_id":"WHT7JBEMEAAENSLN9NXP",
    "txid":"e71415cd465973ad61922bb592990e0647edf7ff20c",
    "status":"success",
    "created":"2020-10-26 14:01:59",
    "updated":"0000-00-00 00:00:00",
    "timestamp":1603714261
}

Note:
signature = SHA-256 from nonce|shop_id|shop_key
e.g HMAC from string 1234567890|public_key_1|shop_key_1 would be:
5dbe4862c4f7d8d071415cd465973ad61922bb592990e0647edf7ff20c99a322
</code></pre>
                            </div>

                            <div class="section-block">
                                <h4>Response Fields</h4>
                                <div class="table-responsive">
                                    <table class="table table-bordered table-striped">
                                        <tbody>
                                        <tr>
                                            <td><strong>Parameter</strong></td>
                                            <td><strong>Description</strong></td>
                                        </tr>
                                        <tr>
                                            <td>letknowpay_id</td>
                                            <td>LetKnowPay transaction ID</td>
                                        </tr>
                                        <tr>
                                            <td>nonce</td>
                                            <td>Unique identificator for signature</td>
                                        </tr>

                                        <tr>
                                            <td>signature</td>
                                            <td>SHA-256 from nonce|shop_id|shop_key</td>
                                        </tr>
                                        <tr>
                                            <td>type</td>
                                            <td>Transaction type (receive or withdraw)</td>
                                        </tr>
                                        <tr>
                                            <td>account_id</td>
                                            <td>Address owner account ID in LetKnowPay</td>
                                        </tr>
                                        <tr>
                                            <td>txid</td>
                                            <td>Blockchain transaction ID</td>
                                        </tr>
                                        <tr>
                                            <td>status</td>
                                            <td>
                                                <div><span class="label label-default">pending</span></div>
                                                <div><span class="label label-success">success</span></div>
                                                <div><span class="label label-failed">failed</span></div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>amount</td>
                                            <td>Transaction amount</td>
                                        </tr>
                                        <tr>
                                            <td>currency</td>
                                            <td>Transaction currency</td>
                                        </tr>
                                        <tr>
                                            <td>address</td>
                                            <td>Crypto Address</td>
                                        </tr>

                                        <tr>
                                            <td>created</td>
                                            <td>Date created</td>
                                        </tr>

                                        <tr>
                                            <td>updated</td>
                                            <td>Date updated</td>
                                        </tr>

                                        <tr>
                                            <td>shop_id</td>
                                            <td>LetKnowPay shop ID</td>
                                        </tr>

                                        <tr>
                                            <td>client.id</td>
                                            <td>Your's client ID</td>
                                        </tr>
                                        <tr>
                                            <td>timestamp</td>
                                            <td>Callback timestamp</td>
                                        </tr>


                                        </tbody>
                                    </table>
                                </div><!--//table-responsive-->
                            </div><!--//section-block-->
                            <div class="code-block">
                                <h4>POST URL:</h4>
                                <p><code>Your shop CallBack URL, provided in Shop settings e.g.
                                        https://yourshop.com/ORDERID12345/IPN</code></p>
                                <p><a href="https://pay.letknow.com/en/merchant/shops">Your Shop settings</a></p>
                            </div>

                            <div class="section-block">
                                <h4>Retries</h4>
                                <p>1 retry if CallBack URL status is equal 200</p>
                                <p>3 synchronous retries if CallBack URL status is not equal 200</p>
                                <p>1 asynchronous retry once in 10,30,60,120 minutes if CallBack URL status is not equal
                                    200</p>
                                <p>IPN will wait for Callback URL response for 20 seconds each retry</p>
                            </div><!--//section-block-->

                        </section><!--//section-->

                        
                            <section id="apicalls-fiat-section" class="doc-section">
                                <h2 class="section-title">Crypto to Fiat API calls</h2>

                                <div id="getfiatdepositaddress" class="section-block">
                                    <h3 class="block-title">Get Fiat-To-Crypto deposit address. </h3>
                                    <p>
                                        This request generates a new Crypto deposit address, the funds received on which
                                        will be
                                        automatically converted to selected Fiat currency (USD or EUR).
                                    </p>
                                    <p>Please refer to the <a href="#deposit-webhooks-section-fiat">IPN (Webhooks)</a>
                                        section
                                        to discover on how to process the deposits and withdrawals to/from generated
                                        addresses.
                                    </p>

                                    <div class="code-block">
                                        <h4>POST URL:</h4>
                                        <p><code>https://pay.letknow.com/api/2/get_deposit_address</code></p>
                                    </div>
                                    <h3 class="block-title">Headers</h3>
                                    <pre><code class="language-html">Host: pay.letknow.com
Accept: */*
C-Request-Nonce: nonce
C-Shop-Id: shopId
C-Request-Signature: signature
Content-Type: application/json</code></pre>
                                <div class="code-block">
                                    <h4>JSON Request:</h4>
                                    <pre><code class="language-php">{
    "currency":"XRP",
    "currency_receive":"USD",
    "receive_amount":"40.99",
    "reference_id": "refid_0001",
    "client": {
        "id": "client_123456",
        "first_name": "Phil",
        "last_name": "MacNeely",
        "email": "hmacneely5@stumbleupon.com",
        "address": "276 Homewood Crossing",
    },
}
</code></pre>
                                    </div>

                                    <div class="code-block">
                                        <h4>Successful Response:</h4>
                                        <p>
                                            The API will synchronously return an array with field 'result' success or
                                            failed.
                                            If the 'result' field value is 'success' (case-sensitive) the API call was
                                            processed, otherwise it will contain an error message.
                                        </p>
                                        <pre><code class="language-php">{
    "result": "success",
    "currency": "XRP",
    "currency_receive": "USD",
    "address":"r9kSGStGJxrLM8xv6aHaQg7beGjVy6ebqG",
    "crypto_destination_tag":"76959845",
    "account_id":"XRP833462YXSD8RODKTHQ9ZUJV3JGH",
    "reference_id":"xrp-usd-1",
    "client": {
        "id": "client_123456",
        "first_name": "Phil",
        "last_name": "MacNeely",
        "email": "hmacneely5@stumbleupon.com",
        "address": "276 Homewood Crossing",
    },
    "receive_amount":"40.99",
    "rate":"0.24253125",
    "crypto_amount":"123.69995400",
    "deposit_network_fee":"0.02",
    "qr_code":"iVBORw0KGgoAAAANSxxxxxxxxxxxxxx",
    "timestamp: "1603202569"
}
</code></pre>
                                    </div>
                                    <div class="code-block">
                                        <h4>Error:</h4>
                                        <pre><code class="language-php">{
    "result":"failed",
    "error_code": "200",
    "error_message": "Validation error",
    "errors": {
        "currency_receive": [
            "The selected currency is invalid."
        ]
    }
    "timestamp": "1234567890",
}</code></pre>
                                    </div>

                                    <div class="callout-block callout-danger">
                                        <div class="icon-holder">
                                            <i class="fas fa-danger"></i>
                                        </div><!--//icon-holder-->
                                        <div class="content">
                                            <h4 class="callout-title">Important!!!</h4>
                                            <p>The user must always generate a get deposit address request.
                                                However, it is possible that the user will send a multiple transaction to
                                                the same address without generating a get deposit address request.
                                                LetKnowPay will still send you the IPN response with the new
                                                LetKnowPay ID, Blockchain Transaction ID and the same client ID,
                                                however, the Reference ID will be used from the previous get deposit
                                                address request. Therefore, its important that you map incoming
                                                transactions from LetKnowPay using the Client ID and the LetKnowPay ID.
                                                And if you get an IPN with the same reference ID but with the
                                                new LetKnowPay ID you must record a new transaction using the new
                                                LetKnowPay ID. Reference ID is for your own accounting purposes,
                                                and reference ID is not mandatory.</p>
                                            <p>Because one Client ID equals one address, you must make sure that
                                                you generate a get deposit request for a Client ID not the Reference
                                                ID.
                                            </p>
                                        </div>
                                    </div>

                                    <div class="section-block">
                                        <h4>Request fields</h4>
                                        <div class="table-responsive">
                                            <table class="table table-bordered table-striped">
                                                <tbody>
                                                <tr>
                                                    <td><strong>Parameter</strong></td>
                                                    <td width="1px"><strong>Required</strong></td>
                                                    <td><strong>Description</strong></td>
                                                    <td width="90px"><strong>Length</strong></td>
                                                    <td><strong>Example</strong></td>
                                                </tr>
                                                <tr>
                                                    <td>currency</td>
                                                    <td><span class="label label-success">YES</span></td>
                                                    <td>Currency of address to generate</td>
                                                    <td></td>
                                                    <td>BTC</td>
                                                </tr>
                                                <tr>
                                                    <td>currency_receive</td>
                                                    <td><span class="label label-success">YES</span></td>
                                                    <td>Fiat currency to which the Crypto deposit automatically convert to
                                                    </td>
                                                    <td></td>
                                                    <td>USD or EUR</td>
                                                </tr>
                                                <tr>
                                                    <td>receive_amount</td>
                                                    <td><span class="label label-success">YES</span></td>
                                                    <td>Approximate amount of fiat currency you wish to receive (in USD or
                                                        EUR)
                                                    </td>
                                                    <td></td>
                                                    <td>40.99</td>
                                                </tr>
                                                <tr>
                                                    <td>reference_id</td>
                                                    <td><span class="label label-success">no</span></td>
                                                    <td>Your reference id</td>
                                                    <td>unique</td>
                                                    <td>refid_0001</td>
                                                </tr>
                                                <tr>
                                                    <td>client.id</td>
                                                    <td><span class="label label-warning">YES</span></td>
                                                    <td>Client's ID in your shop, unique for each shop_id.</td>
                                                    <td>unique</td>
                                                    <td>client1</td>
                                                </tr>
                                                <tr>
                                                    <td>client.first_name</td>
                                                    <td><span class="label label-success">no</span></td>
                                                    <td>Client's First Name in your Shop</td>
                                                    <td></td>
                                                    <td>John</td>
                                                </tr>
                                                <tr>
                                                    <td>client.last_name</td>
                                                    <td><span class="label label-success">no</span></td>
                                                    <td>Client's Last Name in your Shop</td>
                                                    <td></td>
                                                    <td>Doe</td>
                                                </tr>
                                                <tr>
                                                    <td>client.email</td>
                                                    <td><span class="label label-warning">YES</span></td>
                                                    <td>Client's E-mail in your Shop</td>
                                                    <td></td>
                                                    <td>john@doe.com</td>
                                                </tr>
                                                <tr>
                                                    <td>client.address</td>
                                                    <td><span class="label label-success">no</span></td>
                                                    <td>Client's postal address in your Shop</td>
                                                    <td>Maximum <strong>255</strong> chars</td>
                                                    <td>276 Homewood Crossing, Las Vegas, Nevada, US</td>
                                                </tr>

                                                
                                                </tbody>
                                            </table>
                                        </div><!--//table-responsive-->
                                    </div><!--//section-block-->


                                    <div class="section-block">
                                        <h4>Response Fields</h4>
                                        <div class="table-responsive">
                                            <table class="table table-bordered table-striped">
                                                <tbody>
                                                <tr>
                                                    <td><strong>Parameter</strong></td>
                                                    <td><strong>Description</strong></td>
                                                </tr>
                                                <tr>
                                                    <td>result</td>
                                                    <td><strong class="label label-success">success</strong> or <strong
                                                            class="label label-danger">failed</strong></td>
                                                </tr>
                                                <tr>
                                                    <td>error_code</td>
                                                    <td>Parameter "1" is no errors</td>
                                                </tr>
                                                <tr>
                                                    <td>error_message</td>
                                                    <td>Error message (in case of result "failed")</td>
                                                </tr>
                                                <tr>
                                                    <td>errors</td>
                                                    <td>Validation errors(in case of result "failed")</td>
                                                </tr>
                                                <tr>
                                                    <td>currency</td>
                                                    <td>Cryptocurrency of address to generate</td>
                                                </tr>
                                                <tr>
                                                    <td>currency_receive</td>
                                                    <td>Fiat currency to which the Crypto deposit automatically convert to
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td>address</td>
                                                    <td>Generated Deposit Address</td>
                                                </tr>
                                                <tr>
                                                    <td>crypto_destination_tag</td>
                                                    <td>Destination tag, Mandatory to receive XRP deposits</td>
                                                </tr>
                                                <tr>
                                                    <td>account_id</td>
                                                    <td>Client's Account ID in LetKnowPay</td>
                                                </tr>
                                                <tr>
                                                    <td>reference_id</td>
                                                    <td>Your reference ID</td>
                                                </tr>
                                                <tr>
                                                    <td>client.id</td>
                                                    <td>Client's ID in your Shop</td>
                                                </tr>
                                                <tr>
                                                    <td>receive_amount</td>
                                                    <td>Approximate amount of fiat currency that you will receive after
                                                        conversion (in USD or EUR)
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td>crypto_amount</td>
                                                    <td>Crypto amount to deposit in BTC, ETH, XRP</td>
                                                </tr>
                                                <tr>
                                                    <td>deposit_network_fee</td>
                                                    <td>The deposit network fee is included in the crypto amount. Deposit network fee is charged to a client of the merchant for routing the funds to an exchange.</td>
                                                </tr>
                                                <tr>
                                                    <td>rate</td>
                                                    <td>Conversion rate at the moment of the request</td>
                                                </tr>
                                                <tr>
                                                    <td>qr_code</td>
                                                    <td>Base64 encoded QR code with address and amount data (Example of use:
                                                        img
                                                        src="data:image/png;base64,iVBORw0KGgoAAAANSxxxxxxxxxxxxxx")
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td>timestamp</td>
                                                    <td>Response timestamp</td>
                                                </tr>
                                                </tbody>
                                            </table>
                                        </div><!--//table-responsive-->

                                        <p>Extra response fields only for BINANCEPAY</p>
                                        <div class="table-responsive">
                                            <table class="table table-bordered table-striped">
                                                <tbody>
                                                <tr>
                                                    <td><strong>Parameter</strong></td>
                                                    <td><strong>Description</strong></td>
                                                </tr>








                                                <tr>
                                                    <td>universal_url</td>
                                                    <td>Universal url to finish the payment. string(512)</td>
                                                </tr>
                                                </tbody>
                                            </table>
                                        </div><!--//table-responsive-->
                                    </div><!--//section-block-->
                                </div><!--//section-block-->


                                                                <div id="fiat-to-crypto-withdraw" class="section-block">
                                    <h3 class="block-title">Fiat-To-Crypto Withdraw (To external Crypto address)</h3>
                                    <p>
                                        This request creates a new transaction in selected Blockchain. Buys selected Crypto
                                        amount and Withdraws Fiat from your Account to the provided Crypto address. Be
                                        careful
                                        with addresses, this is the irreversible action.
                                    </p>
                                    <p>Please refer to the <a href="#withdrawal-webhooks-section-fiat">IPN (Webhooks)</a>
                                        section to discover on how to process the deposits and withdrawals to/from generated
                                        addresses.</p>

                                    <div class="code-block">
                                        <h4>POST URL:</h4>
                                        <p><code>https://pay.letknow.com/api/2/buy_crypto_and_withdraw</code></p>
                                    </div>
                                    <h3 class="block-title">Headers</h3>
                                    <pre><code class="language-html">Host: pay.letknow.com
Accept: */*
C-Request-Nonce: nonce
C-Shop-Id: shopId
C-Request-Signature: signature
Content-Type: application/json</code></pre>

                                <div class="code-block">
                                    <h4>JSON Request:</h4>
                                    <pre><code class="language-php">{
   "fiat_currency":"USD",
   "crypto_currency":"BTC",
   "crypto_address":"3LHeYhVufqfF4VSbyBf9DXVChBGDFV42Ka",
   "crypto_destination_tag":"1234567", // For XRP, XLM, EOS
   "fiat_amount":"30.99",
   "reference_id": "refid_0001",
   "client": {
        "id": "client_123456",
    },
}</code></pre>
                                    </div>

                                    <div class="code-block">
                                        <h4>Successful Response:</h4>
                                        <p>
                                            The API will synchronously return an array with field 'result' success or
                                            failed.
                                            If the 'result' field value is 'success' (case-sensitive) the API call was
                                            processed, otherwise it will contain an error message.
                                        </p>
                                        <pre><code class="language-php">{
    "result":"success",
    "letknowpay_id":"WR3VIJ7F6HETBCFEVW7B",
    "fiat_currency":"USD",
    "crypto_currency":"BTC",
    "crypto_address":"3LHeYhVufqfF4VSbyBf9DXVChBGDFV42Ka",
    "crypto_destination_tag":"1234567", // For XRP, XLM, EOS
    "fiat_amount":"30.99",
    "crypto_amount":"0.00090001",
    "transaction_id":"blockchain_txid",
    "reference_id": "refid_0001",
    "client": {
        "id": "client_123456",
    },
    "timestamp":1234567890,
}
</code></pre>
                                </div>
                                <div class="code-block">
                                    <h4>Error:</h4>
                                    <pre><code class="language-php">{
    "result":"failed",
    "error_code": "200",
    "error_message": "Validation error",
    "validation": {
        "order_id": [
            "Client ID is Required field"
        ]
    }
    "timestamp": "1234567890",
}</code></pre>
                                    </div>

                                    <div class="callout-block callout-danger">
                                        <div class="icon-holder">
                                            <i class="fas fa-danger"></i>
                                        </div><!--//icon-holder-->
                                        <div class="content">
                                            <h4 class="callout-title">Important!!!</h4>
                                            <p>The user must have a profile with the LetKnowPay before
                                                making a withdrawal request. If such user does not exist you
                                                will get an error code: 8000
                                                To create a user profile you must first generate a get deposit
                                                request. Once get deposit request is initiated the user may
                                                withdraw from the LetKnowPay.</p>
                                            <p>If you are switching the gateway and you already have
                                                existing user, please run a command get deposit address for
                                                all your existing users, so they can proceed with the
                                                withdrawal without initiating a deposit request.</p>
                                        </div>
                                    </div>

                                    <div class="section-block">
                                        <h4>Request fields</h4>
                                        <div class="table-responsive">
                                            <table class="table table-bordered table-striped">
                                                <tbody>
                                                <tr>
                                                    <td><strong>Parameter</strong></td>
                                                    <td width="1px"><strong>Required</strong></td>
                                                    <td><strong>Description</strong></td>
                                                    <td width="90px"><strong>Length</strong></td>
                                                    <td><strong>Example</strong></td>
                                                </tr>
                                                <tr>
                                                    <td>withdrawal_currency</td>
                                                    <td><span class="label label-success">YES</span></td>
                                                    <td>Curency to withdraw</td>
                                                    <td></td>
                                                    <td>1.00</td>
                                                </tr>
                                                <tr>
                                                    <td>withdrawal_address</td>
                                                    <td><span class="label label-success">YES</span></td>
                                                    <td>Crypto address to withdraw funds to</td>
                                                    <td></td>
                                                    <td>3LHeYhVufqfF4VSbyBf9DXVChBGDFV42Ka</td>
                                                </tr>
                                                <tr>
                                                    <td>withdrawal_amount</td>
                                                    <td><span class="label label-warning">YES</span></td>
                                                    <td>Amount to withdraw</td>
                                                    <td></td>
                                                    <td>0.00000008</td>
                                                </tr>
                                                <tr>
                                                    <td>withdrawal_destination_tag</td>
                                                    <td><span class="label label-warning">Partial</span></td>
                                                    <td>Mandatory tag for XRP currency</td>
                                                    <td></td>
                                                    <td>12345678</td>
                                                </tr>
                                                <tr>
                                                    <td>reference_id</td>
                                                    <td><span class="label label-warning">no</span></td>
                                                    <td>Your reference ID</td>
                                                    <td></td>
                                                    <td>refid_0001</td>
                                                </tr>
                                                <tr>
                                                    <td>client.id</td>
                                                    <td><span class="label label-success">YES</span></td>
                                                    <td>Client's ID in your Shop</td>
                                                    <td></td>
                                                    <td>client_123456</td>
                                                </tr>
                                                </tbody>
                                            </table>
                                        </div><!--//table-responsive-->
                                    </div><!--//section-block-->


                                    <div class="section-block">
                                        <h4>Response Fields</h4>
                                        <div class="table-responsive">
                                            <table class="table table-bordered table-striped">
                                                <tbody>
                                                <tr>
                                                    <td><strong>Parameter</strong></td>
                                                    <td><strong>Description</strong></td>
                                                </tr>
                                                <tr>
                                                    <td>result</td>
                                                    <td><strong class="label label-success">success</strong> or <strong
                                                            class="label label-danger">failed</strong></td>
                                                </tr>
                                                <tr>
                                                    <td>error_code</td>
                                                    <td>Parameter "1" is no errors</td>
                                                </tr>
                                                <tr>
                                                    <td>error_message</td>
                                                    <td>Error message (in case of result "failed")</td>
                                                </tr>
                                                <tr>
                                                    <td>validation</td>
                                                    <td>Validation errors (in case of result "failed")</td>
                                                </tr>
                                                <tr>
                                                    <td>withdrawal_id</td>
                                                    <td>Withdrawal ID in LetKnowPay</td>
                                                </tr>
                                                <tr>
                                                    <td>withdrawal_currency</td>
                                                    <td>Withdrawal currency</td>
                                                </tr>
                                                <tr>
                                                    <td>withdrawal_address</td>
                                                    <td>Crypto Address of withdrawal</td>
                                                </tr>
                                                <tr>
                                                    <td>withdrawal_amount</td>
                                                    <td>Withdrawal amount</td>
                                                </tr>
                                                <tr>
                                                    <td>transaction_id</td>
                                                    <td>Blockchain transaction hash</td>
                                                </tr>
                                                <tr>
                                                    <td>shop_id</td>
                                                    <td>Your shop ID in LetKnowPay</td>
                                                </tr>
                                                <tr>
                                                    <td>reference_id</td>
                                                    <td>Your reference ID</td>
                                                </tr>
                                                <tr>
                                                    <td>client.id</td>
                                                    <td>Your client ID</td>
                                                </tr>
                                                <tr>
                                                    <td>timestamp</td>
                                                    <td>Withdrawal timestamp</td>
                                                </tr>
                                                </tbody>
                                            </table>
                                        </div><!--//table-responsive-->
                                    </div><!--//section-block-->
                                </div><!--//section-block-->
                                

                                <div id="deposit-webhooks-section-fiat" class="section-block">
                                    <h3 class="block-title">Fiat-To-Crypto Gateway IPN service (Webhooks)</h3>

                                    <p>
                                        Instant Payment Notification will be sent to Shop's Callback URL when Transaction
                                        arrives in the blockchain and when Transaction status is changed to "pending" or
                                        "success". Status will be changed to "success" after 5-10 confirmations depending on
                                        Cryptocurrency.
                                    </p>
                                    <p><a href="https://pay.letknow.com/en/merchant/shops">Setup Callback URL</a></p>

                                    <div class="code-block">
                                        <h4>Deposit IPN examples:</h4>
                                        <pre><code class="language-php">Pending deposit transaction (Unconfirmed in Blockchain):
{
    "nonce": "16037025655557",
    "signature": "ab62c9129dcbef81ad0fd1e6cebbe7b63a68ab10a449279ec34c1c7735e27a41",
    "shop_id": "EjofvReMREJ4aGfYaIGuEDw5GDl8Dd",
    "fiat_currency": "USD",
    "crypto_currency": "XRP",
    "crypto_amount": "160.00000000",
    "rate": null,
    "fiat_amount": null,
    "fiat_amount_fee": null,
    "fiat_amount_without_fee": null,
    "address": "r9kNGStGJxrQK8xv6aHaQg7beGjVy6ebmG",
    "crypto_destination_tag": "76959865",
    "account_id": "XRP8MWF62YXCG8RODKTHQ9ZUJVXJGH",
    "reference_id": "xrp-usd-1",
    "client": {
        "id": "u1"
    },
    "type": "receive_crypto_and_sell",
    "letknowpay_id": "DX7LISRL5ZEPSVECQR1X",
    "status": "pending",
    "created": "2020-10-26 10:56:02",
    "updated": "0000-00-00 00:00:00",
    "timestamp": 1603702565
}

Successful deposit transaction (Confirmed in Blockchain):
{
    "nonce": "16037027742476",
    "signature": "6528ed6dcccb4f82dc57ac80b1ca946012931f704fb16332b662dc51613ccb84",
    "shop_id": "EjofvReMREJ4aGfYaIGuEDw5GDl8Dd",
    "fiat_currency": "USD",
    "crypto_currency": "XRP",
    "crypto_amount": "160.00000000",
    "rate": "0.25306830",
    "fiat_amount": 40.49,
    "fiat_amount_fee": 0.8,
    "fiat_amount_without_fee": 39.69,
    "address": "r9kNGStGJxrQK8xv6aHaQg7beGjVy6ebmG",
    "crypto_destination_tag": "76959865",
    "account_id": "XRP8MWF62YXCG8RODKTHQ9ZUJVXJGH",
    "reference_id": "xrp-usd-1",
    "client": {
        "id": "u1"
    },
    "type": "receive_crypto_and_sell",
    "letknowpay_id": "DX7LISRL5ZEPSVECQR1X",
    "status": "success",
    "created": "2020-10-26 10:56:02",
    "updated": "0000-00-00 00:00:00",
    "timestamp": 1603702774
}
</code></pre>
                                    </div>

                                    <div class="section-block">
                                        <h4>Response Fields</h4>
                                        <div class="table-responsive">
                                            <table class="table table-bordered table-striped">
                                                <tbody>
                                                <tr>
                                                    <td><strong>Parameter</strong></td>
                                                    <td><strong>Description</strong></td>
                                                </tr>
                                                <tr>
                                                    <td>letknowpay_id</td>
                                                    <td>LetKnowPay transaction ID</td>
                                                </tr>
                                                <tr>
                                                    <td>nonce</td>
                                                    <td>Unique identificator for signature</td>
                                                </tr>

                                                <tr>
                                                    <td>signature</td>
                                                    <td>SHA-256 from nonce|shop_id|shop_key</td>
                                                </tr>
                                                <tr>
                                                    <td>type</td>
                                                    <td>Transaction type (receive or withdraw)</td>
                                                </tr>
                                                <tr>
                                                    <td>account_id</td>
                                                    <td>Address owner account ID in LetKnowPay</td>
                                                </tr>
                                                <tr>
                                                    <td>txid</td>
                                                    <td>Blockchain transaction ID</td>
                                                </tr>
                                                <tr>
                                                    <td>status</td>
                                                    <td>
                                                        <div><span class="label label-default">pending</span></div>
                                                        <div><span class="label label-success">success</span></div>
                                                        <div><span class="label label-default">failed</span></div>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td>amount</td>
                                                    <td>Transaction amount</td>
                                                </tr>
                                                <tr>
                                                    <td>currency</td>
                                                    <td>Transaction currency</td>
                                                </tr>
                                                <tr>
                                                    <td>address</td>
                                                    <td>Crypto Address</td>
                                                </tr>

                                                <tr>
                                                    <td>created</td>
                                                    <td>Date created</td>
                                                </tr>

                                                <tr>
                                                    <td>updated</td>
                                                    <td>Date updated</td>
                                                </tr>

                                                <tr>
                                                    <td>shop_id</td>
                                                    <td>LetKnowPay shop ID</td>
                                                </tr>

                                                <tr>
                                                    <td>client.id</td>
                                                    <td>Your's client ID</td>
                                                </tr>
                                                <tr>
                                                    <td>timestamp</td>
                                                    <td>Callback timestamp</td>
                                                </tr>


                                                </tbody>
                                            </table>
                                        </div><!--//table-responsive-->
                                    </div><!--//section-block-->
                                    <div class="code-block">
                                        <h4>POST URL:</h4>
                                        <p><code>Your shop CallBack URL, provided in Shop settings e.g.
                                                https://yourshop.com/ORDERID12345/IPN</code></p>
                                        <p><a href="https://pay.letknow.com/en/merchant/shops">Your Shop settings</a></p>
                                    </div>

                                    <div class="section-block">
                                        <h4>Retries</h4>
                                        <p>1 retry if CallBack URL status is equal 200</p>
                                        <p>3 synchronous retries if CallBack URL status is not equal 200</p>
                                        <p>1 asynchronous retry once in 10,30,60,120 minutes if CallBack URL status is not
                                            equal
                                            200</p>
                                        <p>IPN will wait for Callback URL response for 20 seconds each retry</p>
                                    </div><!--//section-block-->
                                </div><!--//section-block-->

                                                                <div id="withdrawal-webhooks-section-fiat" class="code-block">
                                    <h4>Fiat-To-Crypto Withdrawal IPN examples:</h4>
                                    <pre><code class="language-php">Pending Withdrawal transaction (Unconfirmed in Blockchain):
{
    "nonce": "16022339258963",
    "signature": "58dba9ba97b69388a3dabe7b83794f30d41ac297b68381693f1ce90446b720c8",
    "shop_id": "Ejo0vRe4REJ4a3fYaIGuEDw5GFgHnjDd",
    "fiat_currency": "USD",
    "crypto_currency": "BTC",
    "crypto_address": "3BertjLYwJPo5penreXQWgAjN86MedNAkB",
    "crypto_destination_tag":"1234567", // For XRP, XLM, EOS
    "fiat_amount": "30.99",
    "crypto_amount": "0.00175424",
    "reference_id": "refid_0001",
    "client": {
        "id": "client_123456"
    },
    "type": "buy_crypto_and_withdraw",
    "letknowpay_id": "WR3VIJ7F6HETBCFEVW7B",
    "txid": "0",
    "status": "pending",
    "created": "2020-10-08 17:37:50",
    "updated": "0000-00-00 00:00:00",
    "timestamp": 1602233926
}

Successful Withdrawal transaction (Confirmed in Blockchain):
{
    "nonce": "16022339258963",
    "signature": "58dba9ba97b69388a3dabe7b83794f30d41ac297b68381693f1ce90446b720c8",
    "shop_id": "Ejo0vRe4REJ4a3fYaIGuEDw5GFgHnjDd",
    "fiat_currency": "USD",
    "crypto_currency": "BTC",
    "crypto_address": "3BertjLYwJPo5penreXQWgAjN86MedNAkB",
    "crypto_destination_tag":"1234567", // For XRP, XLM, EOS
    "fiat_amount": "30.99",
    "crypto_amount": "0.00175424",
    "reference_id": "refid_0001",
    "client": {
        "id": "client_123456"
    },
    "type": "buy_crypto_and_withdraw",
    "letknowpay_id": "WR3VIJ7F6HETBCFEVW7B",
    "txid": "4c89ef23441bc995f204fdde7f41Fa86ce3362f77fbb3a6d830c71c4a89173f4",
    "status": "success",
    "created": "2020-10-08 17:37:50",
    "updated": "0000-00-00 00:00:00",
    "timestamp": 1602233926
}

Note:
signature = SHA-256 from nonce|shop_id|shop_key
e.g HMAC from string 1234567890|public_key_1|shop_key_1 would be:
5dbe4862c4f7d8d071415cd465973ad61922bb592990e0647edf7ff20c99a322
</code></pre>
                                </div>

                                <div class="section-block">
                                    <h4>Response Fields</h4>
                                    <div class="table-responsive">
                                        <table class="table table-bordered table-striped">
                                            <tbody>
                                            <tr>
                                                <td><strong>Parameter</strong></td>
                                                <td><strong>Description</strong></td>
                                            </tr>
                                            <tr>
                                                <td>letknowpay_id</td>
                                                <td>LetKnowPay transaction ID</td>
                                            </tr>
                                            <tr>
                                                <td>nonce</td>
                                                <td>Unique identificator for signature</td>
                                            </tr>

                                            <tr>
                                                <td>signature</td>
                                                <td>SHA-256 from nonce|shop_id|shop_key</td>
                                            </tr>
                                            <tr>
                                                <td>type</td>
                                                <td>Transaction type (receive or withdraw)</td>
                                            </tr>
                                            <tr>
                                                <td>account_id</td>
                                                <td>Address owner account ID in LetKnowPay</td>
                                            </tr>
                                            <tr>
                                                <td>txid</td>
                                                <td>Blockchain transaction ID</td>
                                            </tr>
                                            <tr>
                                                <td>status</td>
                                                <td>
                                                    <div><span class="label label-default">pending</span></div>
                                                    <div><span class="label label-success">success</span></div>
                                                    <div><span class="label label-failed">failed</span></div>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td>amount</td>
                                                <td>Transaction amount</td>
                                            </tr>
                                            <tr>
                                                <td>currency</td>
                                                <td>Transaction currency</td>
                                            </tr>
                                            <tr>
                                                <td>address</td>
                                                <td>Crypto Address</td>
                                            </tr>

                                            <tr>
                                                <td>created</td>
                                                <td>Date created</td>
                                            </tr>

                                            <tr>
                                                <td>updated</td>
                                                <td>Date updated</td>
                                            </tr>

                                            <tr>
                                                <td>shop_id</td>
                                                <td>LetKnowPay shop ID</td>
                                            </tr>

                                            <tr>
                                                <td>client.id</td>
                                                <td>Your's client ID</td>
                                            </tr>
                                            <tr>
                                                <td>timestamp</td>
                                                <td>Callback timestamp</td>
                                            </tr>


                                            </tbody>
                                        </table>
                                    </div><!--//table-responsive-->
                                </div><!--//section-block-->
                                <div class="code-block">
                                    <h4>POST URL:</h4>
                                    <p><code>Your shop CallBack URL, provided in Shop settings e.g.
                                            https://yourshop.com/ORDERID12345/IPN</code></p>
                                    <p><a href="https://pay.letknow.com/en/merchant/shops">Your Shop settings</a></p>
                                </div>

                                <div class="section-block">
                                    <h4>Retries</h4>
                                    <p>1 retry if CallBack URL status is equal 200</p>
                                    <p>3 synchronous retries if CallBack URL status is not equal 200</p>
                                    <p>1 asynchronous retry once in 10,30,60,120 minutes if CallBack URL status is not equal
                                        200</p>
                                    <p>IPN will wait for Callback URL response for 20 seconds each retry</p>
                                </div><!--//section-block-->
                            </section><!--//section-->
                        
                        
                        <section id="api-v3-calls-section" class="doc-section">
                            <h2 class="section-title">API V3 Gateway API Calls</h2>

                            <div id="api-v3-register" class="section-block">
                                <h3 class="block-title">Register</h3>
                                <p>
                                    This request allow to register new user. <br>
                                    Important: Other API V3 endpoints won't work without registration!
                                </p>

                                <div class="code-block">
                                    <h4>POST URL:</h4>
                                    <p><code>https://pay.letknow.com/api/3/register</code></p>
                                </div>

                                <h3 class="block-title">Headers</h3>
                                <pre><code class="language-html">Host: pay.letknow.com
Accept: */*
C-Request-Nonce: nonce
C-Shop-Id: shopId
C-Request-Signature: signature
Content-Type: application/json</code></pre>

                                <div class="code-block">
                                    <h4>JSON Request:</h4>
                                    <pre><code class="language-php">{
	"client": {
		"id": "client_123456",
        "email": "hmacneely5@stumbleupon.com",
		"first_name": "Phil",
        "last_name": "MacNeely",
        "address": "276 Homewood Crossing",
        "citizenship": "American",
        "place_of_birth": "",
        "date_of_birth": "1980-01-01",
        "professional_filed_activity": "",
    },
}</code></pre>
                                </div>

                                <div class="code-block">
                                    <h4>Successful Response:</h4>
                                    <p>
                                        The API will synchronously return an array with field 'result' success or
                                        failed.
                                        If the 'result' field value is 'success' (case-sensitive) the API call was
                                        processed, otherwise it will contain an error message.
                                    </p>
                                    <pre><code class="language-php">{
    "result":"success",
	"client": {
		"id": "client_123456",
		"email": "hmacneely5@stumbleupon.com",
		"first_name": "Phil",
		"last_name": "MacNeely",
		"address": "276 Homewood Crossing",
		"citizenship": "American",
		"place_of_birth": "",
		"date_of_birth": "1980-01-01",
		"professional_filed_activity": ""
    },
    "timestamp":1234567890,
}
</code></pre>
                                </div>

                                <div class="code-block">
                                    <h4>Error:</h4>
                                    <pre><code class="language-php">{
    "result":"failed",
    "error_code": "200",
    "error_message": "Validation error",
    "errors": {
        "client.id": [
            "The client.id field is required."
        ]
    }
    "timestamp": "1234567890",
}</code></pre>
                                </div>

                                <div class="section-block">
                                    <h4>Request fields</h4>
                                    <div class="table-responsive">
                                        <table class="table table-bordered table-striped">
                                            <tbody>
                                            <tr>
                                                <td><strong>Parameter</strong></td>
                                                <td width="1px"><strong>Required?</strong></td>
                                                <td><strong>Description</strong></td>
                                                <td width="90px"><strong>Length</strong></td>
                                                <td><strong>Example</strong></td>
                                            </tr>
                                            <tr>
                                                <td>client.id</td>
                                                <td><span class="label label-warning">YES</span></td>
                                                <td>Client's ID in your shop, unique for each shop_id.</td>
                                                <td>unique</td>
                                                <td>client1</td>
                                            </tr>
                                            <tr>
                                                <td>client.email</td>
                                                <td><span class="label label-warning">YES</span></td>
                                                <td>Client's E-mail in your Shop</td>
                                                <td></td>
                                                <td>john@doe.com</td>
                                            </tr>
                                            <tr>
                                                <td>client.first_name</td>
                                                <td><span class="label label-success">no</span></td>
                                                <td>Client's First Name in your Shop</td>
                                                <td></td>
                                                <td>John</td>
                                            </tr>
                                            <tr>
                                                <td>client.last_name</td>
                                                <td><span class="label label-success">no</span></td>
                                                <td>Client's Last Name in your Shop</td>
                                                <td></td>
                                                <td>Doe</td>
                                            </tr>
                                            <tr>
                                                <td>client.address</td>
                                                <td><span class="label label-success">no</span></td>
                                                <td>Client's postal address in your Shop</td>
                                                <td>Maximum <strong>255</strong> chars</td>
                                                <td>276 Homewood Crossing, Las Vegas, Nevada, US</td>
                                            </tr>
                                            <tr>
                                                <td>client.citizenship</td>
                                                <td><span class="label label-success">no</span></td>
                                                <td>Client's citizenship in your Shop</td>
                                                <td>Maximum <strong>255</strong> chars</td>
                                                <td>American</td>
                                            </tr>
                                            <tr>
                                                <td>client.place_of_birth</td>
                                                <td><span class="label label-success">no</span></td>
                                                <td>Client's place of birth in your Shop</td>
                                                <td>Maximum <strong>255</strong> chars</td>
                                                <td></td>
                                            </tr>
                                            <tr>
                                                <td>client.date_of_birth</td>
                                                <td><span class="label label-success">no</span></td>
                                                <td>Client's date of birth in your Shop</td>
                                                <td>Date format <strong>YYYY-DD-MM</strong></td>
                                                <td>1980-01-01</td>
                                            </tr>
                                            <tr>
                                                <td>client.professional_filed_activity</td>
                                                <td><span class="label label-success">no</span></td>
                                                <td>Client's professional filed activity in your Shop</td>
                                                <td>Maximum <strong>255</strong> chars</td>
                                                <td></td>
                                            </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>

                                <div class="section-block">
                                    <h4>Response Fields</h4>
                                    <div class="table-responsive">
                                        <table class="table table-bordered table-striped">
                                            <tbody>
                                            <tr>
                                                <td><strong>Parameter</strong></td>
                                                <td><strong>Description</strong></td>
                                            </tr>
                                            <tr>
                                                <td>result</td>
                                                <td><strong class="label label-success">success</strong> or <strong
                                                        class="label label-danger">failed</strong></td>
                                            </tr>
                                            <tr>
                                                <td>error_code</td>
                                                <td>Parameter "1" is no errors</td>
                                            </tr>
                                            <tr>
                                                <td>error_message</td>
                                                <td>Error message (in case of result "failed")</td>
                                            </tr>
                                            <tr>
                                                <td>errors</td>
                                                <td>Validation errors(in case of result "failed")</td>
                                            </tr>
                                            <tr>
                                                <td>client.id</td>
                                                <td>Client's ID in your Shop</td>
                                            </tr>
                                            <tr>
                                                <td>client.email</td>
                                                <td>Client's E-mail in your Shop</td>
                                            </tr>
                                            <tr>
                                                <td>client.first_name</td>
                                                <td>Client's First Name in your Shop</td>
                                            </tr>
                                            <tr>
                                                <td>client.last_name</td>
                                                <td>Client's Last Name in your Shop</td>
                                            </tr>
                                            <tr>
                                                <td>client.address</td>
                                                <td>Client's postal address in your Shop</td>
                                            </tr>
                                            <tr>
                                                <td>client.citizenship</td>
                                                <td>Client's citizenship in your Shop</td>
                                            </tr>
                                            <tr>
                                                <td>client.place_of_birth</td>
                                                <td>Client's place of birth in your Shop</td>
                                            </tr>
                                            <tr>
                                                <td>client.date_of_birth</td>
                                                <td>Client's date of birth in your Shop</td>
                                            </tr>
                                            <tr>
                                                <td>client.professional_filed_activity</td>
                                                <td>Client's professional filed activity in your Shop</td>
                                            </tr>
                                            <tr>
                                                <td>timestamp</td>
                                                <td>Response timestamp</td>
                                            </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>

                            <div id="api-v3-get-balances" class="section-block">
                                <h3 class="block-title">Get balances</h3>
                                <p>
                                    This request shows all user crypto and fiat balances.<br>
                                    Works only with API V3 registered user.
                                </p>

                                <div class="code-block">
                                    <h4>POST URL:</h4>
                                    <p><code>https://pay.letknow.com/api/3/get_balances</code></p>
                                </div>

                                <h3 class="block-title">Headers</h3>
                                <pre><code class="language-html">Host: pay.letknow.com
Accept: */*
C-Request-Nonce: nonce
C-Shop-Id: shopId
C-Request-Signature: signature
Content-Type: application/json</code></pre>

                                <div class="code-block">
                                    <h4>JSON Request:</h4>
                                    <pre><code class="language-php">{
	"client": {
		"id": "client_123456"
    },
}</code></pre>
                                </div>

                                <div class="code-block">
                                    <h4>Successful Response:</h4>
                                    <p>
                                        The API will synchronously return an array with field 'result' success or
                                        failed.
                                        If the 'result' field value is 'success' (case-sensitive) the API call was
                                        processed, otherwise it will contain an error message.
                                    </p>
                                    <pre><code class="language-php">{
    "result":"success",
	"balances": {
		"BTC": "1.00000000",
		"XRP": "1000.123456",
        "ETH": "1.00000000",
        "USDT": "1000.000000",
        "BCH": "1000.00000000",
        "LTC": "1000.00000000",
        "DASH": "1000.00000000",
        "ZEC": "1000.00000000",
        "USDC": "0.000000",
        "TUSD": "0.00000000",
        "PAX": "0.00000000",
        "USD": "1000.12",
        "EUR": "0.00"
    },
	"client": {
		"id": "client_123456"
    },
    "timestamp":1234567890
}
</code></pre>
                                </div>

                                <div class="code-block">
                                    <h4>Error:</h4>
                                    <pre><code class="language-php">{
    "result":"failed",
    "error_code": "200",
    "error_message": "Validation error",
    "errors": {
        "client.id": [
            "The client.id field is required."
        ]
    }
    "timestamp": "1234567890",
}</code></pre>
                                </div>

                                <div class="section-block">
                                    <h4>Request fields</h4>
                                    <div class="table-responsive">
                                        <table class="table table-bordered table-striped">
                                            <tbody>
                                            <tr>
                                                <td><strong>Parameter</strong></td>
                                                <td width="1px"><strong>Required?</strong></td>
                                                <td><strong>Description</strong></td>
                                                <td width="90px"><strong>Length</strong></td>
                                                <td><strong>Example</strong></td>
                                            </tr>
                                            <tr>
                                                <td>client.id</td>
                                                <td><span class="label label-warning">YES</span></td>
                                                <td>Client's ID in your shop, unique for each shop_id.</td>
                                                <td>unique</td>
                                                <td>client1</td>
                                            </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>

                                <div class="section-block">
                                    <h4>Response Fields</h4>
                                    <div class="table-responsive">
                                        <table class="table table-bordered table-striped">
                                            <tbody>
                                            <tr>
                                                <td><strong>Parameter</strong></td>
                                                <td><strong>Description</strong></td>
                                            </tr>
                                            <tr>
                                                <td>result</td>
                                                <td><strong class="label label-success">success</strong> or <strong
                                                        class="label label-danger">failed</strong></td>
                                            </tr>
                                            <tr>
                                                <td>error_code</td>
                                                <td>Parameter "1" is no errors</td>
                                            </tr>
                                            <tr>
                                                <td>error_message</td>
                                                <td>Error message (in case of result "failed")</td>
                                            </tr>
                                            <tr>
                                                <td>errors</td>
                                                <td>Validation errors(in case of result "failed")</td>
                                            </tr>
                                            <tr>
                                                <td>balances.{CURRENCY_CODE}</td>
                                                <td>Clients balance in {CURRENCY_CODE} currency</td>
                                            </tr>
                                            <tr>
                                                <td>client.id</td>
                                                <td>Client's ID in your Shop</td>
                                            </tr>
                                            <tr>
                                                <td>timestamp</td>
                                                <td>Response timestamp</td>
                                            </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>

                            <div id="api-v3-get-deposit-address" class="section-block">
                                <h3 class="block-title">Get Crypto deposit address</h3>
                                <p>
                                    This request generates a new Crypto deposit address (BTC in example below).<br>
                                    Works only with API V3 registered user.
                                </p>
                                <p>Please refer to the <a href="#deposit-webhooks-section-crypto">IPN (Webhooks)</a>
                                    section to discover on how to process the deposits and withdrawals to/from generated
                                    addresses.</p>

                                <div class="code-block">
                                    <h4>POST URL:</h4>
                                    <p><code>https://pay.letknow.com/api/3/get_deposit_address</code></p>
                                </div>
                                <h3 class="block-title">Headers</h3>
                                <pre><code class="language-html">Host: pay.letknow.com
Accept: */*
C-Request-Nonce: nonce
C-Shop-Id: shopId
C-Request-Signature: signature
Content-Type: application/json</code></pre>
                                <div class="code-block">
                                    <h4>JSON Request:</h4>
                                    <pre><code class="language-php">{
    "currency":"BTC",
	"client": {
		"id": "client_123456",
    },
}</code></pre>
                                </div>

                                <div class="code-block">
                                    <h4>Successful Response:</h4>
                                    <p>
                                        The API will synchronously return an array with field 'result' success or
                                        failed.
                                        If the 'result' field value is 'success' (case-sensitive) the API call was
                                        processed, otherwise it will contain an error message.
                                    </p>
                                    <pre><code class="language-php">{
    "result":"success",
    "currency":"BTC",
    "address":"3LHeYhVufqfF4VSbyBf9DXVChBGDFV42Ka",
    "account_id":"BTCBXUQOSLAEH58YVSSUJU8T8D5BWY",
    "crypto_destination_tag":"12345678", // Mandatory to receive deposits in XRP, EOS, XLM, XMR
	"client": {
		"id": "client_123456",
    },
    "qr_code":"iVBORw0KGgoAAAANSxxxxxxxxxxxxxx",
    "timestamp":1234567890
}
</code></pre>
                                </div>
                                <div class="code-block">
                                    <h4>Error:</h4>
                                    <pre><code class="language-php">{
    "result":"failed",
    "error_code": "200",
    "error_message": "Validation error",
    "errors": {
        "currency": [
            "The currency field is required."
        ]
    }
    "timestamp": "1234567890",
}</code></pre>
                                </div>

                                <div class="section-block">
                                    <h4>Request fields</h4>
                                    <div class="table-responsive">
                                        <table class="table table-bordered table-striped">
                                            <tbody>
                                            <tr>
                                                <td><strong>Parameter</strong></td>
                                                <td width="1px"><strong>Required?</strong></td>
                                                <td><strong>Description</strong></td>
                                                <td width="90px"><strong>Length</strong></td>
                                                <td><strong>Example</strong></td>
                                            </tr>
                                            <tr>
                                                <td>currency</td>
                                                <td><span class="label label-success">YES</span></td>
                                                <td>Currency of address to generate</td>
                                                <td></td>
                                                <td>BTC</td>
                                            </tr>
                                            <tr>
                                                <td>client.id</td>
                                                <td><span class="label label-warning">YES</span></td>
                                                <td>Client's ID in your shop, unique for each shop_id.</td>
                                                <td>unique</td>
                                                <td>client1</td>
                                            </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>

                                <div class="section-block">
                                    <h4>Response Fields</h4>
                                    <div class="table-responsive">
                                        <table class="table table-bordered table-striped">
                                            <tbody>
                                            <tr>
                                                <td><strong>Parameter</strong></td>
                                                <td><strong>Description</strong></td>
                                            </tr>
                                            <tr>
                                                <td>result</td>
                                                <td><strong class="label label-success">success</strong> or <strong
                                                        class="label label-danger">failed</strong></td>
                                            </tr>
                                            <tr>
                                                <td>error_code</td>
                                                <td>Parameter "1" is no errors</td>
                                            </tr>
                                            <tr>
                                                <td>error_message</td>
                                                <td>Error message (in case of result "failed")</td>
                                            </tr>
                                            <tr>
                                                <td>errors</td>
                                                <td>Validation errors(in case of result "failed")</td>
                                            </tr>
                                            <tr>
                                                <td>currency</td>
                                                <td>Deposit address Cryptocurrency</td>
                                            </tr>
                                            <tr>
                                                <td>address</td>
                                                <td>Generated Deposit Address</td>
                                            </tr>
                                            <tr>
                                                <td>crypto_destination_tag</td>
                                                <td>Tag that should be provided for deposits in XRP, EOS, XLM, XMR.</td>
                                            </tr>
                                            <tr>
                                                <td>account_id</td>
                                                <td>Client's Account ID in LetKnowPay</td>
                                            </tr>
                                            <tr>
                                                <td>client.id</td>
                                                <td>Client's ID in your Shop</td>
                                            </tr>
                                            <tr>
                                                <td>qr_code</td>
                                                <td>Base64 encoded QR code with address and amount data (Example of use:
                                                    img
                                                    src="data:image/png;base64,iVBORw0KGgoAAAANSxxxxxxxxxxxxxx")
                                                </td>
                                            </tr>
                                            <tr>
                                                <td>timestamp</td>
                                                <td>Response timestamp</td>
                                            </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>

                            <div id="api-v3-withdraw" class="section-block">
                                <h3 class="block-title">Crypto Withdraw (To external Crypto address)</h3>
                                <p>
                                    This request creates a new transaction in selected Blockchain. Withdraws funds from
                                    your Account to the provided Crypto address. Be careful with addresses, this is the
                                    irreversible action.<br>
                                    Works only with API V3 registered user.
                                </p>
                                <p>Please refer to the <a href="#withdrawal-webhooks-section-crypto">IPN (Webhooks)</a>
                                    section to discover on how to process the deposits and withdrawals to/from generated
                                    addresses.</p>

                                <div class="code-block">
                                    <h4>POST URL:</h4>
                                    <p><code>https://pay.letknow.com/api/3/withdraw</code></p>
                                </div>
                                <h3 class="block-title">Headers</h3>
                                <pre><code class="language-html">Host: pay.letknow.com
Accept: */*
C-Request-Nonce: nonce
C-Shop-Id: shopId
C-Request-Signature: signature
Content-Type: application/json</code></pre>

                                <div class="code-block">
                                    <h4>JSON Request:</h4>
                                    <pre><code class="language-php">{
   "withdrawal_currency":"BTC",
   "withdrawal_address":"3LHeYhVufqfF4VSbyBf9DXVChBGDFV42Ka",
   "withdrawal_destination_tag":"1234567", // For XRP, XLM, EOS
   "withdrawal_amount":"0.10000000",
   "client": {
        "id": "client_123456",
    },
}</code></pre>
                                </div>

                                <div class="code-block">
                                    <h4>Successful Response:</h4>
                                    <p>
                                        The API will synchronously return an array with field 'result' success or
                                        failed.
                                        If the 'result' field value is 'success' (case-sensitive) the API call was
                                        processed, otherwise it will contain an error message.
                                    </p>
                                    <pre><code class="language-php">{
    "result":"success",
	"withdrawal_id":"W1234567890",
    "withdrawal_currency":"BTC",
    "withdrawal_address":"3LHeYhVufqfF4VSbyBf9DXVChBGDFV42Ka",
    "withdrawal_destination_tag":"1234567", // For XRP, XLM, EOS
    "withdrawal_amount":"0.10000000",
	"withdrawal_fee":"0.00060000",
	"withdrawal_network_fee":"0.00030000",
	"withdrawal_processing_fee":"0.00030000",
    "transaction_id":"blockchain_txid",
    "client": {
        "id": "client_123456",
    },
    "timestamp":1234567890,
}
</code></pre>
                                </div>
                                <div class="code-block">
                                    <h4>Error:</h4>
                                    <pre><code class="language-php">{
    "result":"failed",
    "error_code": "200",
    "error_message": "Validation error",
    "validation": {
        "order_id": [
            "Client ID is Required field"
        ]
    }
    "timestamp": "1234567890",
}</code></pre>
                                </div>

                                <div class="section-block">
                                    <h4>Request fields</h4>
                                    <div class="table-responsive">
                                        <table class="table table-bordered table-striped">
                                            <tbody>
                                            <tr>
                                                <td><strong>Parameter</strong></td>
                                                <td width="1px"><strong>Required</strong></td>
                                                <td><strong>Description</strong></td>
                                                <td width="90px"><strong>Length</strong></td>
                                                <td><strong>Example</strong></td>
                                            </tr>
                                            <tr>
                                                <td>withdrawal_currency</td>
                                                <td><span class="label label-success">YES</span></td>
                                                <td>Curency to withdraw</td>
                                                <td></td>
                                                <td>1.00</td>
                                            </tr>
                                            <tr>
                                                <td>withdrawal_address</td>
                                                <td><span class="label label-success">YES</span></td>
                                                <td>Crypto address to withdraw funds to</td>
                                                <td></td>
                                                <td>3LHeYhVufqfF4VSbyBf9DXVChBGDFV42Ka</td>
                                            </tr>
                                            <tr>
                                                <td>withdrawal_destination_tag</td>
                                                <td><span class="label label-warning">Partial</span></td>
                                                <td>Partially mandatory for XRP, EOS, XLM, XMR currency.</td>
                                                <td>8 decimals</td>
                                                <td>12345678</td>
                                            </tr>
                                            <tr>
                                                <td>withdrawal_amount</td>
                                                <td><span class="label label-warning">YES</span></td>
                                                <td>Amount to withdraw</td>
                                                <td></td>
                                                <td>0.10000000</td>
                                            </tr>
                                            <tr>
                                                <td>client.id</td>
                                                <td><span class="label label-success">YES</span></td>
                                                <td>Client's ID in your Shop</td>
                                                <td></td>
                                                <td>client_123456</td>
                                            </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>

                                <div class="section-block">
                                    <h4>Response Fields</h4>
                                    <div class="table-responsive">
                                        <table class="table table-bordered table-striped">
                                            <tbody>
                                            <tr>
                                                <td><strong>Parameter</strong></td>
                                                <td><strong>Description</strong></td>
                                            </tr>
                                            <tr>
                                                <td>result</td>
                                                <td><strong class="label label-success">success</strong> or <strong
                                                        class="label label-danger">failed</strong></td>
                                            </tr>
                                            <tr>
                                                <td>error_code</td>
                                                <td>Parameter "1" is no errors</td>
                                            </tr>
                                            <tr>
                                                <td>error_message</td>
                                                <td>Error message (in case of result "failed")</td>
                                            </tr>
                                            <tr>
                                                <td>validation</td>
                                                <td>Validation errors (in case of result "failed")</td>
                                            </tr>
                                            <tr>
                                                <td>withdrawal_id</td>
                                                <td>Withdrawal ID in LetKnowPay</td>
                                            </tr>
                                            <tr>
                                                <td>withdrawal_currency</td>
                                                <td>Withdrawal currency</td>
                                            </tr>
                                            <tr>
                                                <td>withdrawal_address</td>
                                                <td>Crypto Address of withdrawal</td>
                                            </tr>
                                            <tr>
                                                <td>withdrawal_destination_tag</td>
                                                <td>XRP destination_tag of withdrawal address</td>
                                            </tr>
                                            <tr>
                                                <td>withdrawal_amount</td>
                                                <td>Withdrawal amount</td>
                                            </tr>
                                            <tr>
                                                <td>withdrawal_fee</td>
                                                <td>Withdrawal overall fee</td>
                                            </tr>
                                            <tr>
                                                <td>withdrawal_network_fee</td>
                                                <td>Withdrawal network fee</td>
                                            </tr>
                                            <tr>
                                                <td>withdrawal_processing_fee</td>
                                                <td>Withdrawal processing fee</td>
                                            </tr>
                                            <tr>
                                                <td>transaction_id</td>
                                                <td>Blockchain transaction hash</td>
                                            </tr>
                                            <tr>
                                                <td>client.id</td>
                                                <td>Your client ID</td>
                                            </tr>
                                            <tr>
                                                <td>timestamp</td>
                                                <td>Withdrawal timestamp</td>
                                            </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>

                            
                                                            <div id="api-v3-rate" class="section-block">
                                    <h3 class="block-title">Conversion rate</h3>
                                    <p>
                                        This request shows conversion rate depending on provided rate type (buy or sell).<br>
                                        Works only with API V3 registered user.
                                    </p>

                                    <div class="code-block">
                                        <h4>POST URL:</h4>
                                        <p><code>https://pay.letknow.com/api/3/rate</code></p>
                                    </div>
                                    <h3 class="block-title">Headers</h3>
                                    <pre><code class="language-html">Host: pay.letknow.com
Accept: */*
C-Request-Nonce: nonce
C-Shop-Id: shopId
C-Request-Signature: signature
Content-Type: application/json</code></pre>
                                    <div class="code-block">
                                        <h4>JSON Request:</h4>
                                        <pre><code class="language-php">{
    "type":"buy",
    "fiat_currency":"USD",
    "crypto_currency":"XRP"
}
</code></pre>
                                    </div>

                                    <div class="code-block">
                                        <h4>Successful Response:</h4>
                                        <p>
                                            The API will synchronously return an array with field 'result' success or
                                            failed.
                                            If the 'result' field value is 'success' (case-sensitive) the API call was
                                            processed, otherwise it will contain an error message.
                                        </p>
                                        <pre><code class="language-php">{
    "result": "success",
    "type": "buy",
    "fiat_currency": "USD",
    "crypto_currency": "XRP",
    "rate": "0.94182570",
    "timestamp: "1603202569"
}
</code></pre>
                                    </div>
                                    <div class="code-block">
                                        <h4>Error:</h4>
                                        <pre><code class="language-php">{
    "result":"failed",
    "error_code": "200",
    "error_message": "Validation error",
    "errors": {
        "crypto_currency": [
            "The selected crypto currency is invalid."
        ]
    }
    "timestamp": "1234567890",
}</code></pre>
                                    </div>

                                    <div class="section-block">
                                        <h4>Request fields</h4>
                                        <div class="table-responsive">
                                            <table class="table table-bordered table-striped">
                                                <tbody>
                                                <tr>
                                                    <td><strong>Parameter</strong></td>
                                                    <td width="1px"><strong>Required</strong></td>
                                                    <td><strong>Description</strong></td>
                                                    <td width="90px"><strong>Length</strong></td>
                                                    <td><strong>Example</strong></td>
                                                </tr>
                                                <tr>
                                                    <td>type</td>
                                                    <td><span class="label label-success">YES</span></td>
                                                    <td>Conversion rate type</td>
                                                    <td></td>
                                                    <td>buy or sell</td>
                                                </tr>
                                                <tr>
                                                    <td>fiat_currency</td>
                                                    <td><span class="label label-success">YES</span></td>
                                                    <td>Fiat currency</td>
                                                    <td></td>
                                                    <td>USD or EUR</td>
                                                </tr>
                                                <tr>
                                                    <td>crypto_currency</td>
                                                    <td><span class="label label-success">YES</span></td>
                                                    <td>Crypto currency</td>
                                                    <td></td>
                                                    <td>BTC</td>
                                                </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>

                                    <div class="section-block">
                                        <h4>Response Fields</h4>
                                        <div class="table-responsive">
                                            <table class="table table-bordered table-striped">
                                                <tbody>
                                                <tr>
                                                    <td><strong>Parameter</strong></td>
                                                    <td><strong>Description</strong></td>
                                                </tr>
                                                <tr>
                                                    <td>result</td>
                                                    <td><strong class="label label-success">success</strong> or <strong
                                                            class="label label-danger">failed</strong></td>
                                                </tr>
                                                <tr>
                                                    <td>error_code</td>
                                                    <td>Parameter "1" is no errors</td>
                                                </tr>
                                                <tr>
                                                    <td>error_message</td>
                                                    <td>Error message (in case of result "failed")</td>
                                                </tr>
                                                <tr>
                                                    <td>errors</td>
                                                    <td>Validation errors(in case of result "failed")</td>
                                                </tr>
                                                <tr>
                                                    <td>type</td>
                                                    <td>Conversion rate type</td>
                                                </tr>
                                                <tr>
                                                    <td>fiat_currency</td>
                                                    <td>Fiat currency</td>
                                                </tr>
                                                <tr>
                                                    <td>crypto_currency</td>
                                                    <td>Crypto currency</td>
                                                </tr>
                                                <tr>
                                                    <td>rate</td>
                                                    <td>Conversion rate</td>
                                                </tr>
                                                <tr>
                                                    <td>timestamp</td>
                                                    <td>Response timestamp</td>
                                                </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>

                                <div id="api-v3-buy" class="section-block">
                                    <h3 class="block-title">Buy crypto</h3>
                                    <p>
                                        This request buys selected Crypto amount.<br>
                                        Works only with API V3 registered user.
                                    </p>

                                    <div class="code-block">
                                        <h4>POST URL:</h4>
                                        <p><code>https://pay.letknow.com/api/3/buy</code></p>
                                    </div>
                                    <h3 class="block-title">Headers</h3>
                                    <pre><code class="language-html">Host: pay.letknow.com
Accept: */*
C-Request-Nonce: nonce
C-Shop-Id: shopId
C-Request-Signature: signature
Content-Type: application/json</code></pre>
                                    <div class="code-block">
                                        <h4>JSON Request:</h4>
                                        <pre><code class="language-php">{
    "fiat_currency":"USD",
    "crypto_currency":"XRP",
    "fiat_amount":"30",
    "client": {
        "id": "client_123456"
    },
}
</code></pre>
                                    </div>

                                    <div class="code-block">
                                        <h4>Successful Response:</h4>
                                        <p>
                                            The API will synchronously return an array with field 'result' success or
                                            failed.
                                            If the 'result' field value is 'success' (case-sensitive) the API call was
                                            processed, otherwise it will contain an error message.
                                        </p>
                                        <pre><code class="language-php">{
    "result": "success",
    "letknowpay_id":"BHLKOJTKEA9GHRF5EVA6",
    "fiat_currency": "USD",
    "crypto_currency": "XRP",
    "fiat_amount": "30",
    "fee": "0.60",
    "crypto_amount": "31.43669547",
    "rate": "0.9352128",
    "client": {
        "id": "client_123456",
    },
    "timestamp: "1603202569"
}
</code></pre>
                                    </div>
                                    <div class="code-block">
                                        <h4>Error:</h4>
                                        <pre><code class="language-php">{
    "result":"failed",
    "error_code": "200",
    "error_message": "Validation error",
    "errors": {
        "crypto_currency": [
            "The selected crypto currency is invalid."
        ]
    }
    "timestamp": "1234567890",
}</code></pre>
                                    </div>

                                    <div class="section-block">
                                        <h4>Request fields</h4>
                                        <div class="table-responsive">
                                            <table class="table table-bordered table-striped">
                                                <tbody>
                                                <tr>
                                                    <td><strong>Parameter</strong></td>
                                                    <td width="1px"><strong>Required</strong></td>
                                                    <td><strong>Description</strong></td>
                                                    <td width="90px"><strong>Length</strong></td>
                                                    <td><strong>Example</strong></td>
                                                </tr>
                                                <tr>
                                                    <td>fiat_currency</td>
                                                    <td><span class="label label-success">YES</span></td>
                                                    <td>Fiat currency from</td>
                                                    <td></td>
                                                    <td>USD or EUR</td>
                                                </tr>
                                                <tr>
                                                    <td>crypto_currency</td>
                                                    <td><span class="label label-success">YES</span></td>
                                                    <td>Crypto currency to which the fiat currency will be converted to
                                                    </td>
                                                    <td></td>
                                                    <td>BTC</td>
                                                </tr>
                                                <tr>
                                                    <td>fiat_amount</td>
                                                    <td><span class="label label-success">YES</span></td>
                                                    <td>Amount in fiat currency you wish to buy from (in USD or
                                                        EUR)
                                                    </td>
                                                    <td></td>
                                                    <td>30</td>
                                                </tr>
                                                <tr>
                                                    <td>client.id</td>
                                                    <td><span class="label label-warning">YES</span></td>
                                                    <td>Client's ID in your shop, unique for each shop_id.</td>
                                                    <td>unique</td>
                                                    <td>client1</td>
                                                </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>

                                    <div class="section-block">
                                        <h4>Response Fields</h4>
                                        <div class="table-responsive">
                                            <table class="table table-bordered table-striped">
                                                <tbody>
                                                <tr>
                                                    <td><strong>Parameter</strong></td>
                                                    <td><strong>Description</strong></td>
                                                </tr>
                                                <tr>
                                                    <td>result</td>
                                                    <td><strong class="label label-success">success</strong> or <strong
                                                            class="label label-danger">failed</strong></td>
                                                </tr>
                                                <tr>
                                                    <td>error_code</td>
                                                    <td>Parameter "1" is no errors</td>
                                                </tr>
                                                <tr>
                                                    <td>error_message</td>
                                                    <td>Error message (in case of result "failed")</td>
                                                </tr>
                                                <tr>
                                                    <td>errors</td>
                                                    <td>Validation errors(in case of result "failed")</td>
                                                </tr>
                                                <tr>
                                                    <td>letknowpay_id</td>
                                                    <td>LetKnowPay transaction ID</td>
                                                </tr>
                                                <tr>
                                                    <td>fiat_currency</td>
                                                    <td>Fiat currency from</td>
                                                </tr>
                                                <tr>
                                                    <td>crypto_currency</td>
                                                    <td>Crypto currency to which the fiat currency will be converted to
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td>fiat_amount</td>
                                                    <td>Amount in fiat currency you wish to buy from (in USD or EUR)</td>
                                                </tr>
                                                <tr>
                                                    <td>crypto_amount</td>
                                                    <td>Crypto amount bought in crypto currency</td>
                                                </tr>
                                                <tr>
                                                    <td>fee</td>
                                                    <td>Transaction fee in fiat currency</td>
                                                </tr>
                                                <tr>
                                                    <td>rate</td>
                                                    <td>Transaction rate</td>
                                                </tr>
                                                <tr>
                                                    <td>client.id</td>
                                                    <td>Client's ID in your Shop</td>
                                                </tr>
                                                <tr>
                                                    <td>timestamp</td>
                                                    <td>Response timestamp</td>
                                                </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>

                                <div id="api-v3-sell" class="section-block">
                                    <h3 class="block-title">Sell crypto</h3>
                                    <p>
                                        This request sells selected Crypto amount.<br>
                                        Works only with API V3 registered user.
                                    </p>

                                    <div class="code-block">
                                        <h4>POST URL:</h4>
                                        <p><code>https://pay.letknow.com/api/3/sell</code></p>
                                    </div>
                                    <h3 class="block-title">Headers</h3>
                                    <pre><code class="language-html">Host: pay.letknow.com
Accept: */*
C-Request-Nonce: nonce
C-Shop-Id: shopId
C-Request-Signature: signature
Content-Type: application/json</code></pre>
                                    <div class="code-block">
                                        <h4>JSON Request:</h4>
                                        <pre><code class="language-php">{
    "crypto_currency":"XRP",
    "fiat_currency":"USD",
    "crypto_amount":"33",
    "client": {
        "id": "client_123456"
    },
}
</code></pre>
                                    </div>

                                    <div class="code-block">
                                        <h4>Successful Response:</h4>
                                        <p>
                                            The API will synchronously return an array with field 'result' success or
                                            failed.
                                            If the 'result' field value is 'success' (case-sensitive) the API call was
                                            processed, otherwise it will contain an error message.
                                        </p>
                                        <pre><code class="language-php">{
    "result": "success",
    "letknowpay_id":"S9IM14DTXTOVPIMXB3IL",
    "crypto_currency": "XRP",
    "fiat_currency": "USD",
    "crypto_amount": "33.00000000",
    "fiat_amount": "30.55",
    "fee": "0.62",
    "rate": "0.94473260",
    "client": {
        "id": "client_123456",
    },
    "timestamp: "1603202569"
}
</code></pre>
                                    </div>
                                    <div class="code-block">
                                        <h4>Error:</h4>
                                        <pre><code class="language-php">{
    "result":"failed",
    "error_code": "200",
    "error_message": "Validation error",
    "errors": {
        "crypto_currency": [
            "The selected crypto currency is invalid."
        ]
    }
    "timestamp": "1234567890",
}</code></pre>
                                    </div>

                                    <div class="section-block">
                                        <h4>Request fields</h4>
                                        <div class="table-responsive">
                                            <table class="table table-bordered table-striped">
                                                <tbody>
                                                <tr>
                                                    <td><strong>Parameter</strong></td>
                                                    <td width="1px"><strong>Required</strong></td>
                                                    <td><strong>Description</strong></td>
                                                    <td width="90px"><strong>Length</strong></td>
                                                    <td><strong>Example</strong></td>
                                                </tr>
                                                <tr>
                                                    <td>crypto_currency</td>
                                                    <td><span class="label label-success">YES</span></td>
                                                    <td>Crypto currency from
                                                    </td>
                                                    <td></td>
                                                    <td>BTC</td>
                                                </tr>
                                                <tr>
                                                    <td>fiat_currency</td>
                                                    <td><span class="label label-success">YES</span></td>
                                                    <td>Fiat currency to which the fiat currency will be converted to</td>
                                                    <td></td>
                                                    <td>USD or EUR</td>
                                                </tr>
                                                <tr>
                                                    <td>crypto_amount</td>
                                                    <td><span class="label label-success">YES</span></td>
                                                    <td>Amount in crypto currency you wish to sell
                                                    </td>
                                                    <td></td>
                                                    <td>30</td>
                                                </tr>
                                                <tr>
                                                    <td>client.id</td>
                                                    <td><span class="label label-warning">YES</span></td>
                                                    <td>Client's ID in your shop, unique for each shop_id.</td>
                                                    <td>unique</td>
                                                    <td>client1</td>
                                                </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>

                                    <div class="section-block">
                                        <h4>Response Fields</h4>
                                        <div class="table-responsive">
                                            <table class="table table-bordered table-striped">
                                                <tbody>
                                                <tr>
                                                    <td><strong>Parameter</strong></td>
                                                    <td><strong>Description</strong></td>
                                                </tr>
                                                <tr>
                                                    <td>result</td>
                                                    <td><strong class="label label-success">success</strong> or <strong
                                                            class="label label-danger">failed</strong></td>
                                                </tr>
                                                <tr>
                                                    <td>error_code</td>
                                                    <td>Parameter "1" is no errors</td>
                                                </tr>
                                                <tr>
                                                    <td>error_message</td>
                                                    <td>Error message (in case of result "failed")</td>
                                                </tr>
                                                <tr>
                                                    <td>errors</td>
                                                    <td>Validation errors(in case of result "failed")</td>
                                                </tr>
                                                <tr>
                                                    <td>letknowpay_id</td>
                                                    <td>LetKnowPay transaction ID</td>
                                                </tr>
                                                <tr>
                                                    <td>crypto_currency</td>
                                                    <td>Crypto currency from</td>
                                                </tr>
                                                <tr>
                                                    <td>fiat_currency</td>
                                                    <td>Fiat currency to which the crypto currency will be converted to</td>
                                                </tr>
                                                <tr>
                                                    <td>crypto_amount</td>
                                                    <td>Amount in crypto currency you wish to sell</td>
                                                </tr>
                                                <tr>
                                                    <td>fiat_amount</td>
                                                    <td>Fiat amount bought in fiat currency</td>
                                                </tr>
                                                <tr>
                                                    <td>fee</td>
                                                    <td>Transaction fee in fiat currency</td>
                                                </tr>
                                                <tr>
                                                    <td>rate</td>
                                                    <td>Transaction rate</td>
                                                </tr>
                                                <tr>
                                                    <td>client.id</td>
                                                    <td>Client's ID in your Shop</td>
                                                </tr>
                                                <tr>
                                                    <td>timestamp</td>
                                                    <td>Response timestamp</td>
                                                </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                            
                        </section>

                        
                                                    <section id="api-pos-calls-section" class="doc-section">
                                <h2 class="section-title">API POS calls</h2>

                                <div id="api-pos-get-deposit-address" class="section-block">
                                    <h3 class="block-title">Get POS order deposit address. </h3>
                                    <p>
                                        This request generates a new Crypto deposit address, the funds received on which
                                        will be
                                        automatically converted to selected Fiat currency (USD or EUR).
                                    </p>
                                    <p>Please refer to the <a href="#api-pos-deposit-webhooks-section-crypto">IPN (Webhooks)</a>
                                        section
                                        to discover on how to process the deposits generated
                                        addresses.
                                    </p>

                                    <div class="code-block">
                                        <h4>POST URL:</h4>
                                        <p><code>https://pay.letknow.com/api/pos/get_deposit_address</code></p>
                                    </div>
                                    <h3 class="block-title">Headers</h3>
                                    <pre><code class="language-html">Host: pay.letknow.com
Accept: */*
C-Request-Nonce: nonce
C-Shop-Id: shopId
C-Request-Signature: signature
Content-Type: application/json</code></pre>
                                    <div class="code-block">
                                        <h4>JSON Request:</h4>
                                        <pre><code class="language-php">{
    "currency":"XRP",
    "currency_receive":"USD",
    "receive_amount":"10"
}
</code></pre>
                                    </div>

                                    <div class="code-block">
                                        <h4>Successful Response:</h4>
                                        <p>
                                            The API will synchronously return an array with field 'result' success or
                                            failed.
                                            If the 'result' field value is 'success' (case-sensitive) the API call was
                                            processed, otherwise it will contain an error message.
                                        </p>
                                        <pre><code class="language-php">{
    "result": "success",
    "currency": "XRP",
    "currency_receive": "USD",
    "address":"r9kSGStGJxrLM8xv6aHaQg7beGjVy6ebqG",
    "crypto_destination_tag":"12484744",
    "xrp_tag": "12484744",
    "order_id":"CBFFAJHBN6R0PWG78XM6JPPG814TBU",
    "qr_code":"iVBORw0KGgoAAAANSxxxxxxxxxxxxxx",
    "receive_amount":"10.00000000",
    "rate":"0.76615",
    "crypto_amount":"13.072274",
    "crypto_amount_remaining_to_pay":"13.072274",
    "timestamp: "1603202569"
}
</code></pre>
                                    </div>
                                    <div class="code-block">
                                        <h4>Error:</h4>
                                        <pre><code class="language-php">{
    "result":"failed",
    "error_code": "200",
    "error_message": "Validation error",
    "errors": {
        "currency_receive": [
            "The selected currency is invalid."
        ]
    }
    "timestamp": "1234567890",
}</code></pre>
                                    </div>

                                    <div class="section-block">
                                        <h4>Request fields</h4>
                                        <div class="table-responsive">
                                            <table class="table table-bordered table-striped">
                                                <tbody>
                                                <tr>
                                                    <td><strong>Parameter</strong></td>
                                                    <td width="1px"><strong>Required</strong></td>
                                                    <td><strong>Description</strong></td>
                                                    <td width="90px"><strong>Length</strong></td>
                                                    <td><strong>Example</strong></td>
                                                </tr>
                                                <tr>
                                                    <td>currency</td>
                                                    <td><span class="label label-success">YES</span></td>
                                                    <td>Currency of address to generate</td>
                                                    <td></td>
                                                    <td>XRP</td>
                                                </tr>
                                                <tr>
                                                    <td>currency_receive</td>
                                                    <td><span class="label label-success">YES</span></td>
                                                    <td>Fiat currency to which the Crypto deposit automatically convert to
                                                    </td>
                                                    <td></td>
                                                    <td>USD or EUR</td>
                                                </tr>
                                                <tr>
                                                    <td>receive_amount</td>
                                                    <td><span class="label label-success">YES</span></td>
                                                    <td>Approximate amount of fiat currency you wish to receive (in USD or
                                                        EUR)
                                                    </td>
                                                    <td></td>
                                                    <td>10</td>
                                                </tr>

                                                </tbody>
                                            </table>
                                        </div><!--//table-responsive-->
                                    </div><!--//section-block-->


                                    <div class="section-block">
                                        <h4>Response Fields</h4>
                                        <div class="table-responsive">
                                            <table class="table table-bordered table-striped">
                                                <tbody>
                                                <tr>
                                                    <td><strong>Parameter</strong></td>
                                                    <td><strong>Description</strong></td>
                                                </tr>
                                                <tr>
                                                    <td>result</td>
                                                    <td><strong class="label label-success">success</strong> or <strong
                                                            class="label label-danger">failed</strong></td>
                                                </tr>
                                                <tr>
                                                    <td>error_code</td>
                                                    <td>Parameter "1" is no errors</td>
                                                </tr>
                                                <tr>
                                                    <td>error_message</td>
                                                    <td>Error message (in case of result "failed")</td>
                                                </tr>
                                                <tr>
                                                    <td>errors</td>
                                                    <td>Validation errors(in case of result "failed")</td>
                                                </tr>
                                                <tr>
                                                    <td>currency</td>
                                                    <td>Cryptocurrency of address to generate</td>
                                                </tr>
                                                <tr>
                                                    <td>currency_receive</td>
                                                    <td>Fiat currency to which the Crypto deposit automatically convert to</td>
                                                </tr>
                                                <tr>
                                                    <td>address</td>
                                                    <td>Generated Deposit Address</td>
                                                </tr>
                                                <tr>
                                                    <td>crypto_destination_tag</td>
                                                    <td>Destination tag, Mandatory to receive XRP deposits</td>
                                                </tr>
                                                <tr>
                                                    <td>order_id</td>
                                                    <td>POS order ID in LetKnowPay</td>
                                                </tr>
                                                <tr>
                                                    <td>qr_code</td>
                                                    <td>Base64 encoded QR code with address and amount data (Example of use:
                                                        img
                                                        src="data:image/png;base64,iVBORw0KGgoAAAANSxxxxxxxxxxxxxx")
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td>receive_amount</td>
                                                    <td>Approximate amount of fiat currency that you will receive after
                                                        conversion (in USD or EUR)
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td>rate</td>
                                                    <td>Conversion rate at the moment of the request</td>
                                                </tr>
                                                <tr>
                                                    <td>crypto_amount</td>
                                                    <td>Crypto amount to deposit in BTC, ETH, XRP</td>
                                                </tr>
                                                <tr>
                                                    <td>timestamp</td>
                                                    <td>Response timestamp</td>
                                                </tr>
                                                </tbody>
                                            </table>
                                        </div><!--//table-responsive-->
                                    </div><!--//section-block-->
                                </div><!--//section-block-->

                                <div id="api-pos-deposit-webhooks-section-crypto" class="section-block">
                                    <h3 class="block-title">Crypto Gateway IPN service (Webhooks)</h3>

                                    <p>
                                        Instant Payment Notification will be sent to Shop's Callback URL when Transaction
                                        arrives in the blockchain.
                                    </p>
                                    <p><a href="https://pay.letknow.com/en/merchant/shops">Setup Callback URL</a></p>

                                    <div class="code-block">
                                        <h4>Deposit IPN examples:</h4>
                                        <pre><code class="language-php">Partially paid deposit transaction:
{
    "nonce": "15880073107779",
    "signature": "d9d2c15e62aa988b2d1355a07b236a046d270e462db33615f127b0bf7c67cd97",
    "shop_id": "EjofvReMREJ4aGfYaIGuEDw5GDl8Dd",
    "type": "receive",
    "order_id": "CBFFAJHBN6R0PWG78XM6JPPG814TBU",
    "address": "r9kSGStGJxrLM8xv6aHaQg7beGjVy6ebqG",
    "crypto_destination_tag": "12484744", // For XRP, XLM, EOS, XMR
    "xrp_tag": "12484744", // For XRP, XLM, EOS, XMR
    "currency": "XRP",
    "crypto_amount": "13.07227400",
    "currency_receive": "BTC",
    "receive_amount":"10.00000000",
    "crypto_currency_rate": "0.76615000",
    "received_crypto_amount": "10.07227400",
    "crypto_amount_remaining_to_pay": "3.00000000",
    "status": "partially paid",
    "created": "0000-00-00 00:00:00",
    "updated": "0000-00-00 00:00:00",
    "timestamp": 1588007313
}

Successful deposit transaction:
{
    "nonce": "15880073107779",
    "signature": "d9d2c15e62aa988b2d1355a07b236a046d270e462db33615f127b0bf7c67cd97",
    "shop_id": "EjofvReMREJ4aGfYaIGuEDw5GDl8Dd",
    "type": "receive",
    "order_id": "CBFFAJHBN6R0PWG78XM6JPPG814TBU",
    "address": "r9kSGStGJxrLM8xv6aHaQg7beGjVy6ebqG",
    "crypto_destination_tag": "12484744", // For XRP, XLM, EOS, XMR
    "xrp_tag": "12484744", // For XRP, XLM, EOS, XMR
    "currency": "XRP",
    "crypto_amount": "13.07227400",
    "currency_receive": "BTC",
    "receive_amount":"10.00000000",
    "crypto_currency_rate": "0.76615000",
    "received_crypto_amount": "13.07227400",
    "crypto_amount_remaining_to_pay": "0.00000000",
    "status": "success",
    "created": "0000-00-00 00:00:00",
    "updated": "0000-00-00 00:00:00",
    "timestamp": 1588007313
}

Expired deposit transaction:
{
    "nonce": "15880073107779",
    "signature": "d9d2c15e62aa988b2d1355a07b236a046d270e462db33615f127b0bf7c67cd97",
    "shop_id": "EjofvReMREJ4aGfYaIGuEDw5GDl8Dd",
    "type": "receive",
    "order_id": "CBFFAJHBN6R0PWG78XM6JPPG814TBU",
    "address": "r9kSGStGJxrLM8xv6aHaQg7beGjVy6ebqG",
    "crypto_destination_tag": "12484744", // For XRP, XLM, EOS, XMR
    "xrp_tag": "12484744", // For XRP, XLM, EOS, XMR
    "currency": "XRP",
    "crypto_amount": "13.07227400",
    "currency_receive": "BTC",
    "receive_amount":"10.00000000",
    "crypto_currency_rate": "0.76615000",
    "received_crypto_amount": "0",
    "crypto_amount_remaining_to_pay": "13.07227400",
    "status": "expired",
    "created": "0000-00-00 00:00:00",
    "updated": "0000-00-00 00:00:00",
    "timestamp": 1588007313
}

Note:
signature = SHA-256 from nonce|shop_id|shop_key
e.g HMAC from string 1234567890|public_key_1|shop_key_1 would be:
5dbe4862c4f7d8d071415cd465973ad61922bb592990e0647edf7ff20c99a322
</code></pre>
                                        </div>

                                        <div class="section-block">
                                            <h4>Response Fields</h4>
                                            <div class="table-responsive">
                                                <table class="table table-bordered table-striped">
                                                    <tbody>
                                                    <tr>
                                                        <td><strong>Parameter</strong></td>
                                                        <td><strong>Description</strong></td>
                                                    </tr>
                                                    <tr>
                                                        <td>nonce</td>
                                                        <td>Unique identificator for signature</td>
                                                    </tr>

                                                    <tr>
                                                        <td>signature</td>
                                                        <td>SHA-256 from nonce|shop_id|shop_key</td>
                                                    </tr>
                                                    <tr>
                                                        <td>shop_id</td>
                                                        <td>LetKnowPay shop ID</td>
                                                    </tr>
                                                    <tr>
                                                        <td>type</td>
                                                        <td>Transaction type (receive)</td>
                                                    </tr>
                                                    <tr>
                                                        <td>order_id</td>
                                                        <td>POS order ID in LetKnowPay</td>
                                                    </tr>
                                                    <tr>
                                                        <td>address</td>
                                                        <td>Crypto Address</td>
                                                    </tr>
                                                    <tr>
                                                        <td>crypto_destination_tag</td>
                                                        <td>Crypto destination tag</td>
                                                    </tr>
                                                    <tr>
                                                        <td>currency</td>
                                                        <td>Transaction currency</td>
                                                    </tr>
                                                    <tr>
                                                        <td>crypto_amount</td>
                                                        <td>Crypto amount</td>
                                                    </tr>
                                                    <tr>
                                                        <td>currency_receive</td>
                                                        <td>Fiat currency to which the Crypto deposit automatically convert to</td>
                                                    </tr>
                                                    <tr>
                                                        <td>receive_amount</td>
                                                        <td>Fiat receive amount</td>
                                                    </tr>
                                                    <tr>
                                                        <td>crypto_currency_rate</td>
                                                        <td>Rate</td>
                                                    </tr>
                                                    <tr>
                                                        <td>received_crypto_amount</td>
                                                        <td>Received crypto amount</td>
                                                    </tr>
                                                    <tr>
                                                        <td>crypto_amount_remaining_to_pay</td>
                                                        <td>Crypto amount remaining to pay</td>
                                                    </tr>
                                                    <tr>
                                                        <td>status</td>
                                                        <td>
                                                            <div><span class="label label-default">pending</span></div>
                                                            <div><span class="label label-default">partially paid</span></div>
                                                            <div><span class="label label-success">success</span></div>
                                                            <div><span class="label label-default">failed</span></div>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td>created</td>
                                                        <td>Date created</td>
                                                    </tr>
                                                    <tr>
                                                        <td>updated</td>
                                                        <td>Date updated</td>
                                                    </tr>
                                                    <tr>
                                                        <td>timestamp</td>
                                                        <td>Callback timestamp</td>
                                                    </tr>
                                                    </tbody>
                                                </table>
                                            </div><!--//table-responsive-->
                                        </div><!--//section-block-->
                                        <div class="code-block">
                                            <h4>POST URL:</h4>
                                            <p><code>Your shop CallBack URL, provided in Shop settings e.g.
                                                    https://yourshop.com/ORDERID12345/IPN</code></p>
                                            <p><a href="https://pay.letknow.com/en/merchant/shops">Your Shop settings</a></p>
                                        </div>

                                        <div class="section-block">
                                            <h4>Retries</h4>
                                            <p>1 retry if CallBack URL status is equal 200</p>
                                            <p>3 synchronous retries if CallBack URL status is not equal 200</p>
                                            <p>1 asynchronous retry once in 10,30,60,120 minutes if CallBack URL status is not
                                                equal 200</p>
                                            <p>IPN will wait for Callback URL response for 20 seconds each retry</p>
                                        </div><!--//section-block-->
                                    </div>
                            </section>
                        
                        <section id="errortable-section" class="doc-section">
                            <h2 class="section-title">Error Table</h2>
                            <div class="section-block">
                                <p>
                                    Below is an explanation of possible system error codes:
                                </p>
                                <div class="table-responsive">
                                    <table class="table table-striped table-bordered">
                                        <tbody>
                                        <tr>
                                            <td width="100px"><strong>Code</strong></td>
                                            <td><strong>Description</strong></td>
                                        </tr>
                                        <tr>
                                            <td>200</td>
                                            <td>Request data validation error</td>
                                        </tr>
                                        <tr>
                                            <td>100</td>
                                            <td>Shop does not exist</td>
                                        </tr>
                                        <tr>
                                            <td>105</td>
                                            <td>Shop does not exist</td>
                                        </tr>
                                        <tr>
                                            <td>110</td>
                                            <td>Merchant does not exist</td>
                                        </tr>
                                        <tr>
                                            <td>120</td>
                                            <td>Incorrect Signature</td>
                                        </tr>
                                        <tr>
                                            <td>130</td>
                                            <td>Order with this <strong>order_id</strong> already exist</td>
                                        </tr>
                                        <tr>
                                            <td>140</td>
                                            <td>Order does not exist</td>
                                        </tr>
                                        <tr>
                                            <td>150</td>
                                            <td>Gateway error</td>
                                        </tr>
                                        <tr>
                                            <td>160</td>
                                            <td>Access denied</td>
                                        </tr>
                                        <tr>
                                            <td>170</td>
                                            <td>Shop IP access denied</td>
                                        </tr>
                                        <tr>
                                            <td>8000</td>
                                            <td>User does not exist to make a withdrawal request</td>
                                        </tr>
                                        </tbody>
                                    </table>
                                </div><!--//table-responsive-->
                            </div><!--//section-block-->

                        </section><!--//section-->

                        <section id="examples-section" class="doc-section">
                            <h2 class="section-title">Example Code Snippets</h2>
                            <div class="section-block">
                                <p>
                                    For your convenience, you can use these examples for easier integration.
                                </p>

                                <h3 class="block-title">Get Deposit Address (PHP+CUrl)</h3>
                                <pre><code class="language-php">&#x3C;?php
// Variables
$requestUrl = &#x27;https://pay.letknow.com/api/2/get_deposit_address&#x27;;
$nonce = str_replace(&#x27;.&#x27;, &#x27;&#x27;, microtime(true));
$shopId = &#x27;shop_id&#x27;;
$shopKey = &#x27;shop_key&#x27;;
&#x200B;
// Generate signature
$signature = hash_hmac(&#x27;sha256&#x27;, &#x22;{$nonce}|{$shopId}|{$shopKey}&#x22;, $shopKey);
&#x200B;
// Set headers
$requestHeader = [
&#x9;&#x22;C-Request-Nonce: {$nonce}&#x22;,
&#x9;&#x22;C-Request-Signature: {$signature}&#x22;,
&#x9;&#x22;C-Shop-Id: {$shopId}&#x22;,
&#x9;&#x22;Content-Type: application/json&#x22;
];
&#x200B;
// Set request body
$request = [
&#x9;&#x27;currency&#x27; =&#x3E; &#x27;BTC&#x27;,
&#x9;&#x27;currency_receive&#x27; =&#x3E; &#x27;BTC&#x27;,
    &#x27;reference_id&#x27; =&#x3E; &#x27;refid_0001&#x27;,
&#x9;&#x27;client&#x27; =&#x3E; [
&#x9;&#x9;&#x27;id&#x27; =&#x3E; &#x27;client_123456&#x27;,
&#x9;&#x9;&#x27;first_name&#x27; =&#x3E; &#x27;Phil&#x27;,
&#x9;&#x9;&#x27;last_name&#x27; =&#x3E; &#x27;MacNeely&#x27;,
&#x9;&#x9;&#x27;email&#x27; =&#x3E; &#x27;hmacneely1@stumbleupon.com&#x27;,
&#x9;&#x9;&#x27;address&#x27; =&#x3E; &#x27;276 Homewood Crossing&#x27;,
&#x9;],
];
$requestJson = json_encode($request);
&#x200B;
// Set curl
$ch = curl_init($requestUrl);
curl_setopt($ch, CURLOPT_CONNECTTIMEOUT, 60);
curl_setopt($ch, CURLOPT_TIMEOUT, 60);
curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);
curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, 0);
curl_setopt($ch, CURLOPT_SSL_VERIFYHOST, 0);
curl_setopt($ch, CURLOPT_HEADER, 1);
curl_setopt($ch, CURLOPT_POST, 1);
curl_setopt($ch, CURLOPT_POSTFIELDS, $requestJson);
curl_setopt($ch, CURLOPT_HTTPHEADER, $requestHeader);
$response = curl_exec($ch);
&#x200B;
// Http response
$httpCode = curl_getinfo($ch, CURLINFO_HTTP_CODE);
&#x200B;
// Header &#x26; body response
$headerSize = curl_getinfo($ch, CURLINFO_HEADER_SIZE);
$header = substr($response, 0, $headerSize);
$response = substr($response, $headerSize);
&#x200B;
// Curl debug
$error = curl_error($ch);
$errorCode = curl_errno($ch);
curl_close($ch);
&#x200B;
// Get parsed result
$parsedResult = (array)json_decode($response, 1);
&#x200B;
print_r($parsedResult);
</code></pre>


                                <h3 class="block-title">Withdrawal (PHP+CUrl)</h3>
                                <pre><code class="language-php">&#x3C;?php
// Variables
$requestUrl = &#x27;https://pay.letknow.com/api/2/withdraw&#x27;;
$nonce = str_replace(&#x27;.&#x27;, &#x27;&#x27;, microtime(true));
$shopId = &#x27;shop_id&#x27;;
$shopKey = &#x27;shop_key&#x27;;
&#x200B;
// Generate signature
$signature = hash_hmac(&#x27;sha256&#x27;, &#x22;{$nonce}|{$shopId}|{$shopKey}&#x22;, $shopKey);
&#x200B;
// Set headers
$requestHeader = [
&#x9;&#x22;C-Request-Nonce: {$nonce}&#x22;,
&#x9;&#x22;C-Request-Signature: {$signature}&#x22;,
&#x9;&#x22;C-Shop-Id: {$shopId}&#x22;,
&#x9;&#x22;Content-Type: application/json&#x22;
];
&#x200B;
// Set request body
$request = [
&#x9;&#x27;withdrawal_currency&#x27; =&#x3E; &#x27;BTC&#x27;,
&#x9;&#x27;withdrawal_address&#x27; =&#x3E; &#x27;1NRkk5JmW4LajR1wSa7LA8AJs6muujWhun&#x27;,
&#x9;&#x27;withdrawal_amount&#x27; =&#x3E; &#x27;0.0005&#x27;,
&#x9;&#x27;reference_id&#x27; =&#x3E; &#x27;refid_0001&#x27;,
&#x9;&#x27;client&#x27; =&#x3E; [
&#x9;&#x9;&#x27;id&#x27; =&#x3E; &#x27;client_123456&#x27;,
&#x9;],
];
$requestJson = json_encode($request);
&#x200B;
// Set curl
$ch = curl_init($requestUrl);
curl_setopt($ch, CURLOPT_CONNECTTIMEOUT, 60);
curl_setopt($ch, CURLOPT_TIMEOUT, 60);
curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);
curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, 0);
curl_setopt($ch, CURLOPT_SSL_VERIFYHOST, 0);
curl_setopt($ch, CURLOPT_HEADER, 1);
curl_setopt($ch, CURLOPT_POST, 1);
curl_setopt($ch, CURLOPT_POSTFIELDS, $requestJson);
curl_setopt($ch, CURLOPT_HTTPHEADER, $requestHeader);
$response = curl_exec($ch);
&#x200B;
// Http response
$httpCode = curl_getinfo($ch, CURLINFO_HTTP_CODE);
&#x200B;
// Header &#x26; body response
$headerSize = curl_getinfo($ch, CURLINFO_HEADER_SIZE);
$header = substr($response, 0, $headerSize);
$response = substr($response, $headerSize);
&#x200B;
// Curl debug
$error = curl_error($ch);
$errorCode = curl_errno($ch);
curl_close($ch);
&#x200B;
// Get parsed result
$parsedResult = (array)json_decode($response, 1);
&#x200B;
print_r($parsedResult);

</code></pre>


                            </div>
                        </section><!--//section-->

                        <!--<section id="ipn-cheatsheet" class="doc-section">
                            <h2 class="section-title">IPN (Webhooks) All-in-one cheatsheet</h2>
                                <div class="section-block">
                                            <p>Ok</p>
                                </div>
                        </section>-->

                        <section id="contact-support" class="doc-section">
                            <h2 class="section-title">Still have questions?</h2>
                            <div class="section-block">
                                <p>Ask our Support Team at <strong>support@letknow.zendesk.com</strong></p>
                            </div>
                        </section>

                        <!--



                        <section id="testnet-section" class="doc-section">
                            <h2 class="section-title">How to get test Bitcoins</h2>
                                <div class="section-block">
                                            <p>
    We recommend using one of the following faucets for testnet funds:<br />

    http://tpfaucet.appspot.com/<br />
    https://testnet.coinfaucet.eu/en/<br />
    http://faucet.haskoin.com/ <br />
    http://kuttler.eu/bitcoin/btc/faucet/<br /><br />
    However, if you are still can't get test coins, please contact us, and we will send you a small amount of test Bitcoins from our testnet wallet.
    </div>
                        </section>
                        <section id="faq-section" class="doc-section">
                            <h2 class="section-title">FAQ</h2>
                                <div class="section-block">
                                            <p>
                                                Frequently Asked Questions:
                                            </p>
                                     </div>
                        </section><

                        <section id="screenshots-section" class="doc-section">
                            <h2 class="section-title">Screenshots</h2>
                                <div class="section-block">
                                            <p>
                                                Some useful screens:
                                            </p>
                                     </div>
                        </section>

                        -->
                    </div><!--//content-inner-->
                </div><!--//doc-content-->

            </div><!--//doc-body-->
        </div><!--//container-->
    </div><!--//doc-wrapper-->
</div><!--//page-wrapper-->

<footer id="footer" class="footer text-center">
    <div class="container">
        <small class="copyright">&copy; 2018-2020 LetKnowPay</small>
    </div><!--//container-->
</footer><!--//footer-->

<!-- Main Javascript -->
<script type="text/javascript" src="https://pay.letknow.com/assets/templates/old/api_docs/assets/plugins/jquery-3.3.1.min.js"></script>
<script type="text/javascript" src="https://pay.letknow.com/assets/templates/old/api_docs/assets/plugins/bootstrap/js/bootstrap.min.js"></script>
<script type="text/javascript" src="https://pay.letknow.com/assets/templates/old/api_docs/assets/plugins/prism/prism.js"></script>
<script type="text/javascript" src="https://pay.letknow.com/assets/templates/old/api_docs/assets/plugins/jquery-scrollTo/jquery.scrollTo.min.js"></script>
<script type="text/javascript" src="https://pay.letknow.com/assets/templates/old/api_docs/assets/plugins/stickyfill/dist/stickyfill.min.js"></script>
<script type="text/javascript" src="https://pay.letknow.com/assets/templates/old/api_docs/assets/js/main.js"></script>
</body>
</html>

